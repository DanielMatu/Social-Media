{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","components/topbar/Topbar.jsx","dummyData.js","components/closeFriends/CloseFriend.jsx","components/sidebar/Sidebar.jsx","config.js","components/share/Share.jsx","components/post/Post.jsx","components/feed/Feed.jsx","components/online/Online.jsx","components/rightbar/Rightbar.jsx","pages/home/Home.jsx","apiCalls.js","pages/login/Login.jsx","pages/profile/Profile.jsx","pages/register/Register.jsx","components/conversations/Conversation.jsx","components/message/Message.jsx","components/chatOnline/ChatOnline.jsx","pages/messenger/Messenger.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","isFetching","error","payload","followings","filter","following","INITIAL_STATE","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","Provider","value","Topbar","useContext","PF","process","className","to","style","textDecoration","Search","placeholder","Person","Chat","Notifications","username","src","profilePic","alt","Users","id","profilePicture","CloseFriend","Sidebar","PlayCircleFilled","Group","Bookmark","HelpOutline","Work","Event","map","u","axiosInstance","console","log","axios","create","baseURL","Share","desc","useRef","useState","file","setFile","submitHandler","e","a","preventDefault","newPost","userId","_id","current","data","FormData","fileName","Date","now","name","append","img","post","window","location","reload","ref","URL","createObjectURL","Cancel","onClick","onSubmit","htmlFor","PermMedia","htmlColor","display","accept","onChange","target","files","Label","Room","EmojiEmotions","Post","likes","length","like","setLike","isLiked","setIsLiked","setUser","currentUser","useEffect","includes","get","res","fetchUser","likeHandler","put","err","format","createdAt","MoreVert","comment","Feed","posts","setPosts","sort","p1","p2","fetchPosts","p","Online","Rightbar","friends","setFriends","followed","setFollowed","friendList","getFriends","handleClick","HomeRightBar","ProfileRightBar","Remove","Add","city","from","relationship","friend","Home","loginCall","userCredential","Login","email","password","required","minLength","disabled","CircularProgress","color","size","Profile","useParams","coverPicture","Register","passwordAgain","history","useHistory","setCustomValidity","push","Conversation","conversation","friendId","members","find","m","getUser","Message","message","own","text","ChatOnline","onlineUsers","currentId","setCurrentChat","onlineFriends","setOnlineFriends","f","o","Messenger","conversations","setConversations","currentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","setOnlineUsers","socket","scrollRef","io","on","timeString","setTimeout","connected","sender","senderId","prev","emit","users","some","getConversations","getMessages","handleSubmit","conversationId","receiverId","member","scrollIntoView","behavior","c","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mfA2CeA,EA3CK,SAACC,EAAOC,GACxB,OAAQA,EAAOC,MACX,IAAK,cACD,MAAO,CACHC,KAAM,KACNC,YAAY,EACZC,OAAO,GAEf,IAAK,gBACD,MAAO,CACHF,KAAMF,EAAOK,QACbF,YAAY,EACZC,OAAO,GAEf,IAAK,gBACD,MAAO,CACHF,KAAM,KACNC,YAAY,EACZC,MAAOJ,EAAOK,SAEtB,IAAK,SACD,OAAO,2BACAN,GADP,IAEIG,KAAK,2BACEH,EAAMG,MADT,IAEAI,WAAW,GAAD,mBAAMP,EAAMG,KAAKI,YAAjB,CAA6BN,EAAOK,cAG1D,IAAK,WACD,OAAO,2BACAN,GADP,IAEIG,KAAK,2BACEH,EAAMG,MADT,IAEAI,WAAYP,EAAMG,KAAKI,WAAWC,QAC9B,SAAAC,GAAS,OAAIA,IAAcR,EAAOK,eAIlD,QACI,OAAON,I,OCpCbU,EAAgB,CAClBP,KAAM,KACNC,YAAY,EACZC,OAAO,GAoBEM,EAAcC,wBAAcF,GAE5BG,EAAsB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAClC,EAA0BC,qBAAWhB,EAAaW,GAAlD,mBAAOV,EAAP,KAAcgB,EAAd,KAEA,OACI,cAACL,EAAYM,SAAb,CAAsBC,MAAO,CACzBf,KAAMH,EAAMG,KACZC,WAAYJ,EAAMI,WAClBC,MAAOL,EAAMK,MACbW,YAJJ,SAMKF,KChCE,SAASK,IACpB,IAAQhB,EAASiB,qBAAWT,GAApBR,KACFkB,EAAKC,gCACX,OACI,sBAAKC,UAAU,kBAAf,UACI,qBAAKA,UAAU,aAAf,SACI,cAAC,IAAD,CAAMC,GAAG,IAAIC,MAAO,CAACC,eAAgB,QAArC,SACI,sBAAMH,UAAU,OAAhB,4BAGR,qBAAKA,UAAU,eAAf,SACI,sBAAKA,UAAU,YAAf,UACI,cAACI,EAAA,EAAD,CAAQJ,UAAU,eAClB,uBAAOK,YAAY,uCAAuCL,UAAU,qBAG5E,sBAAKA,UAAU,cAAf,UACI,sBAAKA,UAAU,cAAf,UACI,sBAAMA,UAAU,aAAhB,sBACA,sBAAMA,UAAU,aAAhB,yBAEJ,sBAAKA,UAAU,cAAf,UACI,sBAAKA,UAAU,iBAAf,UACI,cAACM,EAAA,EAAD,IACA,sBAAMN,UAAU,kBAAhB,kBAGJ,sBAAKA,UAAU,iBAAf,UACI,cAAC,IAAD,CAAMC,GAAG,aAAT,SACI,cAACM,EAAA,EAAD,MAEJ,sBAAMP,UAAU,kBAAhB,kBAGJ,sBAAKA,UAAU,iBAAf,UACI,cAACQ,EAAA,EAAD,IACA,sBAAMR,UAAU,kBAAhB,qBAGR,cAAC,IAAD,CAAMC,GAAE,mBAAcrB,EAAK6B,UAA3B,SACI,qBACIC,IACI9B,EAAK+B,WACCb,EAAKlB,EAAK+B,WACVb,EAAK,sBAEfc,IAAI,GAAGZ,UAAU,sB,gECpD5Ba,EAAQ,CACjB,CACEC,GAAG,EACHC,eAAgB,gBAChBN,SAAU,kBAEZ,CACEK,GAAG,EACHC,eAAgB,gBAChBN,SAAU,gBAEZ,CACEK,GAAG,EACHC,eAAgB,gBAChBN,SAAU,eAEZ,CACEK,GAAG,EACHC,eAAgB,gBAChBN,SAAU,cAEZ,CACEK,GAAG,EACHC,eAAgB,gBAChBN,SAAU,iBAEZ,CACEK,GAAG,EACHC,eAAgB,gBAChBN,SAAU,qBAEZ,CACEK,GAAG,EACHC,eAAgB,gBAChBN,SAAU,kBAEZ,CACEK,GAAG,EACHC,eAAgB,gBAChBN,SAAU,kBAEZ,CACEK,GAAG,EACHC,eAAgB,gBAChBN,SAAU,aAEZ,CACEK,GAAG,GACHC,eAAgB,iBAChBN,SAAU,mB,MC/CD,SAASO,EAAT,GAA8B,IAARpC,EAAO,EAAPA,KAEjC,OACI,8BACI,qBAAIoB,UAAU,gBAAd,UACI,qBAAKA,UAAU,mBAAmBU,IAJnCX,gCAI6CnB,EAAKmC,eAAgBH,IAAI,KACrE,sBAAMZ,UAAU,oBAAhB,SAAqCpB,EAAK6B,gBCH3C,SAASQ,IACpB,OACI,qBAAKjB,UAAU,UAAf,SACI,sBAAKA,UAAU,iBAAf,UACI,qBAAIA,UAAU,cAAd,UACI,qBAAIA,UAAU,kBAAd,UACI,cAACkB,EAAA,EAAD,CAAkBlB,UAAU,gBAC5B,sBAAMA,UAAU,sBAAhB,uBAIJ,qBAAIA,UAAU,kBAAd,UACI,cAACmB,EAAA,EAAD,CAAOnB,UAAU,gBACjB,sBAAMA,UAAU,sBAAhB,uBAIJ,qBAAKA,UAAU,kBAAf,UACI,cAACoB,EAAA,EAAD,CAAUpB,UAAU,gBACpB,sBAAMA,UAAU,sBAAhB,0BAIJ,qBAAIA,UAAU,kBAAd,UACI,cAACqB,EAAA,EAAD,CAAarB,UAAU,gBACvB,sBAAMA,UAAU,sBAAhB,0BAIJ,qBAAIA,UAAU,kBAAd,UACI,cAACsB,EAAA,EAAD,CAAMtB,UAAU,gBAChB,sBAAMA,UAAU,sBAAhB,qBAIJ,qBAAIA,UAAU,kBAAd,UACI,cAACuB,EAAA,EAAD,CAAOvB,UAAU,gBACjB,sBAAMA,UAAU,sBAAhB,0BAKR,wBAAQA,UAAU,gBAAlB,uBACA,oBAAIA,UAAU,cACd,oBAAIA,UAAU,oBAAd,SACKa,EAAMW,KAAI,SAACC,GAAD,OACP,cAACT,EAAD,CAAwBpC,KAAM6C,GAAZA,EAAEX,c,iGClCtCY,GAPEC,QAAQC,IAAI,qBACLC,IAAMC,OAAO,CAChBC,QAAS,mDCNN,SAASC,IACpB,IAAQpD,EAASiB,qBAAWT,GAApBR,KACFkB,EAAKC,gCACLkC,EAAOC,mBACb,EAAwBC,mBAAS,MAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAEMC,EAAa,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,yDAClBD,EAAEE,iBACIC,EAAU,CACZC,OAAQ/D,EAAKgE,IACbX,KAAMA,EAAKY,QAAQlD,QAEnByC,EANc,wBAORU,EAAO,IAAIC,SACXC,EAAWC,KAAKC,MAAQd,EAAKe,KACnCL,EAAKM,OAAO,OAAQJ,GACpBF,EAAKM,OAAO,OAAQhB,GAEpBM,EAAQW,IAAML,EAZA,mBAcJtB,EAAc4B,KAAK,UAAWR,GAd1B,0DAgBVnB,QAAQC,IAAR,MAhBU,mCAoBRF,EAAc4B,KAAK,SAAUZ,GApBrB,QAqBda,OAAOC,SAASC,SArBF,mDAuBd9B,QAAQC,IAAR,MAvBc,kEAAH,sDA2BnB,OACI,qBAAK5B,UAAU,QAAf,SACI,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,WAAf,UACI,qBAAKA,UAAU,kBAAkBU,IAAK9B,EAAK+B,WAAab,EAAKlB,EAAK+B,WAAab,EAAK,sBAAuBc,IAAI,KAC/G,uBACIP,YAAa,sBAAwBzB,EAAK6B,SAAW,IACrDT,UAAU,aACV0D,IAAKzB,OAGb,oBAAIjC,UAAU,YACZoC,GACE,sBAAKpC,UAAU,oBAAf,UACI,qBAAKA,UAAU,WAAWU,IAAKiD,IAAIC,gBAAgBxB,GAAOxB,IAAI,KAC9D,cAACiD,EAAA,EAAD,CAAQ7D,UAAU,iBAAiB8D,QAAS,kBAAIzB,EAAQ,YAGhE,uBAAMrC,UAAU,cAAc+D,SAAUzB,EAAxC,UACI,sBAAKtC,UAAU,eAAf,UACI,wBAAOgE,QAAQ,OAAOhE,UAAU,cAAhC,UACI,cAACiE,EAAA,EAAD,CAAWC,UAAU,SAASlE,UAAU,cACxC,sBAAMA,UAAU,kBAAhB,4BACA,uBAAOE,MAAO,CAACiE,QAAQ,QAASxF,KAAK,OAAOmC,GAAG,OAAOsD,OAAO,kBAAkBC,SAAU,SAAC9B,GAAD,OAAOF,EAAQE,EAAE+B,OAAOC,MAAM,UAE3H,sBAAKvE,UAAU,cAAf,UACI,cAACwE,EAAA,EAAD,CAAON,UAAU,OAAOlE,UAAU,cAClC,sBAAMA,UAAU,kBAAhB,oBAEJ,sBAAKA,UAAU,cAAf,UACI,cAACyE,EAAA,EAAD,CAAMP,UAAU,QAAQlE,UAAU,cAClC,sBAAMA,UAAU,kBAAhB,yBAEJ,sBAAKA,UAAU,cAAf,UACI,cAAC0E,EAAA,EAAD,CAAeR,UAAU,YAAYlE,UAAU,cAC/C,sBAAMA,UAAU,kBAAhB,4BAGR,wBAAQA,UAAU,cAAcrB,KAAK,SAArC,2BD3DpBgD,QAAQC,IAAI,uBACZD,QAAQC,IAAIF,G,4BEXG,SAASiD,EAAT,GAAyB,IAATrB,EAAQ,EAARA,KAC3B,EAAwBnB,mBAASmB,EAAKsB,MAAMC,QAA5C,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA8B5C,oBAAS,GAAvC,mBAAO6C,EAAP,KAAgBC,EAAhB,KACA,EAAwB9C,mBAAS,IAAjC,mBAAOvD,EAAP,KAAasG,EAAb,KACMpF,EAAKC,gCACGoF,EAAgBtF,qBAAWT,GAAjCR,KAERwG,qBAAU,WACNH,EAAW3B,EAAKsB,MAAMS,SAASF,EAAYvC,QAC5C,CAACuC,EAAYvC,IAAKU,EAAKsB,QAE1BQ,qBAAU,YACS,uCAAG,4BAAA5C,EAAA,sEACId,EAAc4D,IAAd,uBAAkChC,EAAKX,SAD3C,OACR4C,EADQ,OAEdL,EAAQK,EAAIzC,MAFE,2CAAH,qDAIf0C,KACD,CAAClC,EAAKX,SAET,IAAM8C,EAAc,WAChB,IACI/D,EAAcgE,IAAI,UAAYpC,EAAKV,IAAK,QAAU,CAACD,OAAQwC,EAAYvC,MACzE,MAAO+C,IAGTZ,EAAQC,EAAUF,EAAO,EAAIA,EAAO,GACpCG,GAAYD,IAEhB,OACI,qBAAKhF,UAAU,OAAf,SACI,sBAAKA,UAAU,cAAf,UACI,sBAAKA,UAAU,UAAf,UACI,sBAAKA,UAAU,cAAf,UACI,qBAAKA,UAAU,iBACXU,IAAK9B,EAAK+B,WACAb,EAAKlB,EAAK+B,WACVb,EAAK,sBAEfc,IAAI,KAER,sBAAMZ,UAAU,eAAhB,SACKpB,EAAK6B,WAEV,sBAAMT,UAAU,WAAhB,SAA4B4F,YAAOtC,EAAKuC,gBAE5C,qBAAK7F,UAAU,eAAf,SACI,cAAC8F,EAAA,EAAD,SAGR,sBAAK9F,UAAU,aAAf,UACI,sBAAMA,UAAU,WAAhB,gBAA4BsD,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAMrB,OAClC,qBAAKjC,UAAU,UAAUU,IAAKZ,EAAKwD,EAAKD,IAAKzC,IAAI,QAErD,sBAAKZ,UAAU,aAAf,UACI,sBAAKA,UAAU,iBAAf,UACI,qBAAKA,UAAU,aAAaU,IAAG,UAAKZ,EAAL,YAAmBgE,QAAS2B,EAAa7E,IAAI,KAC5E,qBAAKZ,UAAU,aAAaU,IAAG,UAAKZ,EAAL,aAAoBgE,QAAS2B,EAAa7E,IAAI,KAC7E,uBAAMZ,UAAU,kBAAhB,UAAmC8E,EAAnC,wBAEJ,qBAAK9E,UAAU,kBAAf,SACI,uBAAMA,UAAU,kBAAhB,UACKsD,EAAKyC,QADV,yB,OC7DT,SAASC,EAAT,GAA6B,IAAbvF,EAAY,EAAZA,SAC3B,EAA0B0B,mBAAS,IAAnC,mBAAO8D,EAAP,KAAcC,EAAd,KACQtH,EAASiB,qBAAWT,GAApBR,KAaR,OAXAwG,qBAAU,YACU,uCAAG,4BAAA5C,EAAA,0DACH/B,EADG,gCAEHiB,EAAc4D,IAAI,kBAAoB7E,GAFnC,yDAGHiB,EAAc4D,IAAI,mBAAqB1G,EAAKgE,KAHzC,0BACT2C,EADS,KAIfW,EAASX,EAAIzC,KAAKqD,MAAK,SAACC,EAAIC,GACxB,OAAO,IAAIpD,KAAKoD,EAAGR,WAAa,IAAI5C,KAAKmD,EAAGP,eALjC,4CAAH,qDAQhBS,KACD,CAAC7F,EAAU7B,EAAKgE,MAEf,qBAAK5C,UAAU,OAAf,SACI,sBAAKA,UAAU,cAAf,YACOS,GAAYA,IAAa7B,EAAK6B,WAAa,cAACuB,EAAD,IAC7CiE,EAAMzE,KAAI,SAAA+E,GAAC,OACR,cAAC5B,EAAD,CAAkBrB,KAAMiD,GAAbA,EAAE3D,a,cCzBlB,SAAS4D,EAAT,GAAyB,IAAR5H,EAAO,EAAPA,KAE5B,OACI,qBAAIoB,UAAU,iBAAd,UACI,sBAAKA,UAAU,8BAAf,UACI,qBAAKA,UAAU,qBACXU,IALLX,gCAKenB,EAAKmC,eACfH,IAAI,KACR,sBAAMZ,UAAU,sBAEpB,sBAAMA,UAAU,mBAAhB,SAAoCpB,EAAK6B,c,sBCHtC,SAASgG,EAAT,GAA6B,IAAT7H,EAAQ,EAARA,KACzBkB,EAAKC,gCACX,EAA8BoC,mBAAS,IAAvC,mBAAOuE,EAAP,KAAgBC,EAAhB,KACA,EAAwC9G,qBAAWT,GAArC+F,EAAd,EAAQvG,KAAmBa,EAA3B,EAA2BA,SAC3B,EAAgC0C,mBAASgD,EAAYnG,WAAWqG,SAAvB,OAAgCzG,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAMkC,KAA/E,mBAAO8F,EAAP,KAAiBC,EAAjB,KAMAzB,qBAAU,YACU,uCAAG,4BAAA5C,EAAA,+EAEcd,EAAc4D,IAAI,iBAAmBH,EAAYvC,KAF/D,OAELkE,EAFK,OAGXH,EAAWG,EAAWhE,MAHX,gDAKXnB,QAAQC,IAAR,MALW,yDAAH,qDAQhBmF,KACD,CAAC5B,IAEJ,IAAM6B,EAAW,uCAAG,sBAAAxE,EAAA,mEAERoE,EAFQ,gCAGFlF,EAAcgE,IAAI,SAAW9G,EAAKgE,IAAM,YAAa,CACvDD,OAAQwC,EAAYvC,MAJhB,OAMRnD,EAAS,CAACd,KAAM,WAAYI,QAAQH,EAAKgE,MANjC,uCAQFlB,EAAcgE,IAAI,SAAW9G,EAAKgE,IAAM,UAAW,CACrDD,OAAQwC,EAAYvC,MAThB,OAWRnD,EAAS,CAACd,KAAM,SAAUI,QAAQH,EAAKgE,MAX/B,0DAcZjB,QAAQC,IAAR,MAdY,QAgBhBiF,GAAaD,GAhBG,0DAAH,qDAmBXK,EAAe,WACjB,OACI,qCACI,sBAAKjH,UAAU,oBAAf,UACI,qBAAKA,UAAU,cAAcU,IAAI,kBAAkBE,IAAI,KACvD,uBAAMZ,UAAU,eAAhB,cAAgC,4CAAhC,QAAuD,gDAAvD,+BAGJ,qBAAKA,UAAU,aAAaU,IAAI,gBAAgBE,IAAI,KACpD,oBAAIZ,UAAU,gBAAd,4BACA,oBAAIA,UAAU,qBAAd,SAEKa,EAAMW,KAAI,SAAAC,GAAC,OACR,cAAC+E,EAAD,CAAmB5H,KAAM6C,GAAZA,EAAEX,aAO7BoG,EAAkB,WACpB,OACI,qCACKtI,EAAK6B,WAAa0E,EAAY1E,UAC3B,yBAAQT,UAAU,uBAAuB8D,QAASkD,EAAlD,UACKJ,EAAW,WAAa,SACxBA,EAAW,cAACO,EAAA,EAAD,IAAa,cAACC,EAAA,EAAD,OAGjC,oBAAIpH,UAAU,gBAAd,+BACA,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,mBAAf,UACI,sBAAMA,UAAU,kBAAhB,mBACA,sBAAMA,UAAU,oBAAhB,SAAqCpB,EAAKyI,UAE9C,sBAAKrH,UAAU,mBAAf,UACI,sBAAMA,UAAU,kBAAhB,mBACA,sBAAMA,UAAU,oBAAhB,SAAqCpB,EAAK0I,UAE9C,sBAAKtH,UAAU,mBAAf,UACI,sBAAMA,UAAU,kBAAhB,2BACA,sBAAMA,UAAU,oBAAhB,SAC2B,IAAtBpB,EAAK2I,aACA,SACsB,IAAtB3I,EAAK2I,aACD,UACA,YAItB,oBAAIvH,UAAU,gBAAd,0BACA,qBAAKA,UAAU,qBAAf,SACK0G,EAAQlF,KAAI,SAACgG,GAAD,OACT,cAAC,IAAD,CAAuBvH,GAAI,YAAcuH,EAAO/G,SAAUP,MAAO,CAACC,eAAe,QAAjF,SACI,sBAAKH,UAAU,oBAAf,UACI,qBACIU,IAAK8G,EAAOzG,eACNjB,EAAK0H,EAAOzG,eACZjB,EAAK,sBAEXc,IAAI,GACJZ,UAAU,yBACd,sBAAMA,UAAU,wBAAhB,SAAyCwH,EAAO/G,eAT7C+G,EAAO5E,cAiBtC,OACI,qBAAK5C,UAAU,WAAf,SACI,qBAAKA,UAAU,kBAAf,SACKpB,EAAO,cAACsI,EAAD,IAAsB,cAACD,EAAD,Q,OCrH/B,SAASQ,IACpB,OACI,qCACI,cAAC7H,EAAD,IACA,sBAAKI,UAAU,gBAAf,UACI,cAACiB,EAAD,IACA,cAAC+E,EAAD,IACA,cAACS,EAAD,U,WCXHiB,EAAS,uCAAG,WAAOC,EAAgBlI,GAAvB,eAAA+C,EAAA,6DACrB/C,EAAS,CAAEd,KAAM,gBADI,kBAGC+C,EAAc4B,KAAK,cAAeqE,GAHnC,OAGXpC,EAHW,OAIjB5D,QAAQC,IAAI,mBACZD,QAAQC,IAAI+F,GACZhG,QAAQC,IAAI,wBACZD,QAAQC,IAAI2D,GACZ9F,EAAS,CAAEd,KAAM,gBAAiBI,QAASwG,EAAIzC,OAR9B,kDAUjBrD,EAAS,CAAEd,KAAM,gBAAiBI,QAAQ,EAAD,KAVxB,0DAAH,wD,SCKP,SAAS6I,IACpB,IAAMC,EAAQ3F,mBACR4F,EAAW5F,mBACjB,EAA8CrC,qBAAWT,GAA3CP,GAAd,EAAQD,KAAR,EAAcC,YAAmBY,GAAjC,EAA0BX,MAA1B,EAAiCW,UAMjC,OACI,qBAAKO,UAAU,QAAf,SACI,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,wBACA,sBAAMA,UAAU,YAAhB,4EAEJ,qBAAKA,UAAU,aAAf,SACI,uBAAMA,UAAU,WAAW+D,SAbvB,SAACxB,GACjBA,EAAEE,iBACFiF,EAAU,CAACG,MAAMA,EAAMhF,QAAQlD,MAAOmI,SAASA,EAASjF,QAAQlD,OAAQF,IAW5D,UACI,uBAAOY,YAAY,QAAQ1B,KAAK,QAAQqB,UAAU,aAAa0D,IAAKmE,IACpE,uBAAOE,UAAQ,EAAC1H,YAAY,WAAW1B,KAAK,WAAWqJ,UAAU,IAAIhI,UAAU,aAAa0D,IAAKoE,IACjG,wBAAQ9H,UAAU,cAAciI,SAAUpJ,EAA1C,SACKA,EAAa,cAACqJ,EAAA,EAAD,CAAkBC,MAAM,QAAQC,KAAK,SAAW,WAElE,sBAAMpI,UAAU,cAAhB,8BACA,wBAAQA,UAAU,sBAAsBiI,SAAUpJ,EAAlD,SACKA,EAAa,cAACqJ,EAAA,EAAD,CAAkBC,MAAO,QAASC,KAAK,SAAW,mC,mBCvB7E,SAASC,KACpB,IAAMvI,EAAKC,gCACX,EAAwBoC,mBAAS,IAAjC,mBAAOvD,EAAP,KAAasG,EAAb,KACMzE,EAAW6H,eAAY7H,SAU7B,OARA2E,qBAAU,YACS,uCAAG,4BAAA5C,EAAA,sEACId,EAAc4D,IAAd,yBAAoC7E,IADxC,OACR8E,EADQ,OAEdL,EAAQK,EAAIzC,MAFE,2CAAH,qDAIf0C,KACD,CAAC/E,IAGA,8BACI,qCACI,cAACb,EAAD,IACA,sBAAKI,UAAU,UAAf,UACI,cAACiB,EAAD,IACA,sBAAKjB,UAAU,eAAf,UACI,sBAAKA,UAAU,kBAAf,UACI,sBAAKA,UAAU,eAAf,UACI,qBAAKA,UAAU,kBACXU,IACI9B,EAAK2J,aACDzI,EAAKlB,EAAK2J,aACVzI,EAAK,sBAEbc,IAAI,KAER,qBAAKZ,UAAU,iBACXU,IAAK9B,EAAK+B,WACJb,EAAKlB,EAAK+B,WACVb,EAAK,uBAEXc,IAAI,QAGZ,sBAAKZ,UAAU,cAAf,UACI,oBAAIA,UAAU,kBAAd,SAAiCpB,EAAK6B,WACtC,sBAAMT,UAAU,kBAAhB,SAAmCpB,EAAKqD,aAGhD,sBAAKjC,UAAU,qBAAf,UACI,cAACgG,EAAD,CAAMvF,SAAUA,IAChB,cAACgG,EAAD,CAAU7H,KAAMA,kB,oBC/C7B,SAAS4J,KACpB,IAAM/H,EAAWyB,mBACX2F,EAAQ3F,mBACR4F,EAAW5F,mBACXuG,EAAgBvG,mBAChBwG,EAAUC,eAEV3B,EAAW,uCAAG,WAAOzE,GAAP,eAAAC,EAAA,yDAChBD,EAAEE,iBACEgG,EAAc5F,QAAQlD,QAAUmI,EAASjF,QAAQlD,MAFrC,gBAGZ8I,EAAc5F,QAAQ+F,kBAAkB,0BAH5B,8BAKNhK,EAAO,CACT6B,SAAUA,EAASoC,QAAQlD,MAC3BkI,MAAOA,EAAMhF,QAAQlD,MACrBmI,SAAUA,EAASjF,QAAQlD,OARnB,kBAWF+B,EAAc4B,KAAK,iBAAkB1E,GAXnC,OAYR8J,EAAQG,KAAK,UAZL,kDAeRlH,QAAQC,IAAR,MAfQ,0DAAH,sDAmBjB,OACI,qBAAK5B,UAAU,QAAf,SACI,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,wBACA,sBAAMA,UAAU,YAAhB,4EAEJ,qBAAKA,UAAU,aAAf,SACI,uBAAMA,UAAU,WAAW+D,SAAUiD,EAArC,UACI,uBAAO3G,YAAY,WAAW0H,UAAQ,EAACrE,IAAKjD,EAAUT,UAAU,eAChE,uBAAOK,YAAY,QAAQ1B,KAAK,QAAQoJ,UAAQ,EAACrE,IAAKmE,EAAO7H,UAAU,eACvE,uBAAOK,YAAY,WAAW1B,KAAK,WAAWoJ,UAAQ,EAACC,UAAU,IAAItE,IAAKoE,EAAU9H,UAAU,eAC9F,uBAAOK,YAAY,iBAAiB1B,KAAK,WAAWoJ,UAAQ,EAACrE,IAAK+E,EAAezI,UAAU,eAC3F,wBAAQA,UAAU,cAAlB,qBACA,cAAC,IAAD,CAAMC,GAAG,SAASD,UAAU,oBAA5B,SACI,wBAAQrB,KAAK,SAASqB,UAAU,sBAAhC,0C,cC5Cb,SAAS8I,GAAT,GAAsD,IAA9BC,EAA6B,EAA7BA,aAAc5D,EAAe,EAAfA,YACjD,EAAwBhD,mBAAS,IAAjC,mBAAOvD,EAAP,KAAasG,EAAb,KACMpF,EAAKC,gCAmBX,OAjBAqF,qBAAU,WACN,IAAM4D,EAAWD,EAAaE,QAAQC,MAAK,SAACC,GAAD,OAAOA,IAAMhE,EAAYvC,QAEvD,uCAAG,4BAAAJ,EAAA,+EAEUd,EAAc,gBAAkBsH,GAF1C,OAEFzD,EAFE,OAGRL,EAAQK,EAAIzC,MAHJ,gDAKRnB,QAAQC,IAAR,MALQ,yDAAH,qDAQbwH,KAED,CAACjE,EAAa4D,IAKb,sBAAK/I,UAAU,eAAf,UACI,qBAAKA,UAAU,kBACXU,IAAM9B,EAAK+B,WAAab,EAAKlB,EAAK+B,WAAab,EAAK,sBACpDc,IAAI,KAER,sBAAMZ,UAAU,mBAAhB,SAAoCpB,EAAK6B,c,OC5BtC,SAAS4I,GAAT,GAAkC,IAAhBC,EAAe,EAAfA,QAASC,EAAM,EAANA,IACtC,OACI,sBAAKvJ,UAAWuJ,EAAM,cAAgB,UAAtC,UACI,sBAAKvJ,UAAU,aAAf,UACI,qBACIA,UAAU,aACVU,IAAI,2GACJE,IAAI,KAER,mBAAGZ,UAAU,cAAb,SAA4BsJ,EAAQE,UAExC,qBAAKxJ,UAAU,gBAAf,SAAgC4F,YAAO0D,EAAQzD,gB,OCV5C,SAAS4D,GAAT,GAAiE,IAA3CC,EAA0C,EAA1CA,YAAaC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,eACzD,EAA8BzH,mBAAS,IAAvC,mBAAOuE,EAAP,KAAgBC,EAAhB,KACA,EAA0CxE,mBAAS,IAAnD,mBAAO0H,EAAP,KAAsBC,EAAtB,KACMhK,EAAKC,gCAEXqF,qBAAU,YACU,uCAAG,4BAAA5C,EAAA,sEACGd,EAAc4D,IAAI,iBAAmBqE,GADxC,OACTpE,EADS,OAEfoB,EAAWpB,EAAIzC,MAFA,2CAAH,qDAKhBiE,KACD,CAAC4C,IAEJvE,qBAAU,WACNzD,QAAQC,IAAI,iBACZD,QAAQC,IAAI8E,GACZoD,EAAiBpD,EAAQzH,QAAO,SAAA8K,GAAC,OAAIL,EAAYrE,SAAS0E,EAAEnH,WAC7D,CAAC8D,EAASgD,IAEb,IAAM1C,EAAW,uCAAG,WAAOpI,GAAP,eAAA4D,EAAA,sEAEZb,QAAQC,IAAI,cACZD,QAAQC,IAAI+H,GACZhI,QAAQC,IAAI,aACZD,QAAQC,IAAIhD,EAAKgE,KALL,SAMMlB,EAAc4D,IAAd,8BAAyCqE,EAAzC,YAAsD/K,EAAKgE,MANjE,OAMN2C,EANM,OAOZqE,EAAerE,EAAIzC,MAPP,kDASZnB,QAAQC,IAAR,MATY,0DAAH,sDAajB,OACI,qBAAK5B,UAAU,aAAf,SACK6J,EAAcrI,KAAI,SAACwI,GAAD,OAEf,sBAAKhK,UAAU,mBAAmB8D,QAAS,kBAAMkD,EAAYgD,IAA7D,UACI,sBAAKhK,UAAU,yBAAf,UACI,qBACIA,UAAU,gBACVU,KAAM,OAADsJ,QAAC,IAADA,OAAA,EAAAA,EAAGrJ,YACFb,EAAKkK,EAAErJ,WACPb,EAAK,sBACXc,IAAI,KACR,qBAAKZ,UAAU,uBAEnB,qBAAKA,UAAU,iBAAf,SAAiCgK,EAAEvJ,mBCzCxC,SAASwJ,KACpB,MAA4C9H,mBAAS,IAArD,mBAAQ+H,EAAR,KAAuBC,EAAvB,KACA,EAAwChI,mBAAS,MAAjD,mBAAQiI,EAAR,KAAqBR,EAArB,KACA,EAAkCzH,mBAAS,IAA3C,mBAAQkI,EAAR,KAAkBC,EAAlB,KACA,EAAsCnI,mBAAS,IAA/C,mBAAQoI,EAAR,KAAoBC,EAApB,KACA,EAA8CrI,mBAAS,MAAvD,mBAAQsI,EAAR,KAAwBC,EAAxB,KACA,EAAwCvI,mBAAS,IAAjD,mBAAQuH,EAAR,KAAqBiB,EAArB,KACMC,EAAS1I,mBACPtD,EAASiB,qBAAWT,GAApBR,KACFiM,EAAY3I,mBAElBkD,qBAAU,WAKFwF,EAAO/H,QAAUiI,cAAG,0CAMxBF,EAAO/H,QAAQkI,GAAG,WAAW,WACzBpJ,QAAQC,IAAI,gBAIhBgJ,EAAO/H,QAAQkI,GAAG,QAAQ,SAASC,GAC/BrJ,QAAQC,IAAI,mCACZD,QAAQC,IAAIoJ,MAOhBC,YAJqB,WACjBtJ,QAAQC,IAAI,wBACZD,QAAQC,IAAIgJ,EAAO/H,QAAQqI,aAEN,KACzBN,EAAO/H,QAAQkI,GAAG,cAAc,SAACjI,GAC7B4H,EAAkB,CACdS,OAAQrI,EAAKsI,SACb5B,KAAM1G,EAAK0G,KACX3D,UAAW5C,KAAKC,aAGzB,IAEHkC,qBAAU,WACNqF,IAAc,OACdL,QADc,IACdA,OADc,EACdA,EAAanB,QAAQ5D,SAASoF,EAAeU,UAC7Cb,GAAY,SAACe,GAAD,4BAAYA,GAAZ,CAAkBZ,SAC/B,CAACA,EAAgBL,IAEpBhF,qBAAU,WACNwF,EAAO/H,QAAQyI,KAAK,UAAW1M,EAAKgE,KACpCgI,EAAO/H,QAAQkI,GAAG,YAAY,SAACQ,GAC3BZ,EAAe/L,EAAKI,WAAWC,QAAO,SAAA8K,GAAC,OAAEwB,EAAMC,MAAK,SAAA/J,GAAC,OAAEA,EAAEkB,SAAWoH,cAEzE,CAACnL,IAEJwG,qBAAU,YACgB,uCAAG,4BAAA5C,EAAA,+EAECd,EAAc4D,IAAI,kBAAoB1G,EAAKgE,KAF5C,OAEX2C,EAFW,OAGjB4E,EAAiB5E,EAAIzC,MAHJ,gDAKjBnB,QAAQC,IAAR,MALiB,yDAAH,qDAQtB6J,KACD,CAAC7M,EAAKgE,MAETwC,qBAAU,YACW,uCAAG,4BAAA5C,EAAA,+EAEMd,EAAc4D,IAAI,qBAAe8E,QAAf,IAAeA,OAAf,EAAeA,EAAaxH,MAFpD,OAEN2C,EAFM,OAGZ+E,EAAY/E,EAAIzC,MAHJ,gDAMZnB,QAAQC,IAAR,MANY,yDAAH,qDASjB8J,KACD,CAACtB,IAEJ,IAAMuB,EAAY,uCAAG,WAAOpJ,GAAP,mBAAAC,EAAA,6DACjBD,EAAEE,iBACI6G,EAAU,CACZ6B,OAAQvM,EAAKgE,IACb4G,KAAMe,EACNqB,eAAgBxB,EAAYxH,KAG1BiJ,EAAazB,EAAYnB,QAAQC,MAAK,SAAA4C,GAAM,OAAGA,IAAWlN,EAAKgE,OAErEgI,EAAO/H,QAAQyI,KAAK,cAAe,CAC/BF,SAAUxM,EAAKgE,IACfiJ,aACArC,KAAMe,IAbO,kBAiBK7I,EAAc4B,KAAK,YAAagG,GAjBrC,OAiBP/D,EAjBO,OAkBb+E,EAAY,GAAD,mBAAKD,GAAL,CAAe9E,EAAIzC,QAC9B0H,EAAc,IAnBD,kDAqBb7I,QAAQC,IAAR,MArBa,0DAAH,sDA6BlB,OAJAwD,qBAAU,WAAO,IAAD,EACZ,UAAAyF,EAAUhI,eAAV,SAAmBkJ,eAAe,CAACC,SAAU,aAC9C,CAAC3B,IAGA,qCACI,cAACzK,EAAD,IACA,sBAAKI,UAAU,YAAf,UACI,qBAAKA,UAAU,WAAf,SACI,sBAAKA,UAAU,kBAAf,UACI,uBAAOK,YAAY,qBAAsBL,UAAU,kBAClDkK,EAAc1I,KAAI,SAACyK,GAChB,OACI,qBAAiBnI,QAAS,kBAAI8F,EAAeqC,IAA7C,SACI,cAACnD,GAAD,CAA0BC,aAAckD,EAAG9G,YAAavG,GAArCqN,EAAErJ,MADfqJ,EAAErJ,aAQ5B,qBAAK5C,UAAU,UAAf,SACI,qBAAKA,UAAU,iBAAf,SAEQoK,EACJ,qCACI,qBAAKpK,UAAU,aAAf,SAEQqK,EAAS7I,KAAI,SAAA2H,GAAC,OACV,qBAAiBzF,IAAKmH,EAAtB,SACI,cAACxB,GAAD,CAAqBC,QAASH,EAAGI,IAAKJ,EAAEgC,SAAWvM,EAAKgE,KAA1CuG,EAAEvG,MADVuG,EAAEvG,UAMxB,sBAAK5C,UAAU,gBAAf,UACI,0BAAUA,UAAU,mBACVK,YAAY,qBACZgE,SAAU,SAAC9B,GAAD,OAAKiI,EAAcjI,EAAE+B,OAAO3E,QACtCA,MAAO4K,IAGjB,wBAAQvK,UAAU,mBAAmB8D,QAAS6H,EAA9C,wBAGN,sBAAM3L,UAAU,qBAAhB,sDAGV,qBAAKA,UAAU,aAAf,SACI,qBAAKA,UAAU,oBAAf,SACI,cAACyJ,GAAD,CAAYC,YAAaA,EAAaC,UAAW/K,EAAKgE,IAAKgH,eAAgBA,cCjIpFsC,OA1Bf,WAEE,IAAOtN,EAAQiB,qBAAWT,GAAnBR,KACP,OACE,cAAC,IAAD,UACI,eAAC,KAAD,WACE,cAAC,KAAD,CAAOuN,OAAK,EAACC,KAAK,IAAlB,SACGxN,EAAO,cAAC6I,EAAD,IAAW,cAACe,GAAD,MAErB,cAAC,KAAD,CAAO4D,KAAK,SAAZ,SACGxN,EAAO,cAAC,KAAD,CAAUqB,GAAG,MAAQ,cAAC2H,EAAD,MAE/B,cAAC,KAAD,CAAOwE,KAAK,YAAZ,SACGxN,EAAO,cAAC,KAAD,CAAUqB,GAAG,MAAQ,cAACuI,GAAD,MAE/B,cAAC,KAAD,CAAO4D,KAAK,aAAZ,SACIxN,EAA4B,cAACqL,GAAD,IAArB,cAAC,KAAD,CAAUhK,GAAG,QAExB,cAAC,KAAD,CAAOmM,KAAK,qBAAZ,SACE,cAAC/D,GAAD,YC5BZgE,IAASC,OACP,cAAC,IAAMC,WAAP,UAEE,cAAC,EAAD,UACE,cAAC,GAAD,QAGJC,SAASC,eAAe,U","file":"static/js/main.beef2380.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"LOGIN_START\":\r\n            return {\r\n                user: null,\r\n                isFetching: true,\r\n                error: false\r\n            }\r\n        case \"LOGIN_SUCCESS\":\r\n            return {\r\n                user: action.payload,\r\n                isFetching: false,\r\n                error: false\r\n            }\r\n        case \"LOGIN_FAILURE\":\r\n            return {\r\n                user: null,\r\n                isFetching: false,\r\n                error: action.payload\r\n            }\r\n        case \"FOLLOW\":\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    followings: [...state.user.followings, action.payload]\r\n                }\r\n            }\r\n        case \"UNFOLLOW\":\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    followings: state.user.followings.filter(\r\n                        following => following !== action.payload\r\n                    )\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default AuthReducer","import { useReducer, createContext } from 'react'\r\nimport AuthReducer from './AuthReducer'\r\n\r\nconst INITIAL_STATE = {\r\n    user: null,\r\n    isFetching: false,\r\n    error: false\r\n}\r\n\r\n// const INITIAL_STATE = {\r\n//     user: {\r\n//         \"_id\": \"61255f908f1180332c2c23ec\",\r\n//         \"profilePic\": \"person/1.jpeg\",\r\n//         \"coverPicture\": \"\",\r\n//         \"followers\": [],\r\n//         \"isAdmin\": false,\r\n//         \"username\": \"jane\",\r\n//         \"email\": \"jane@gmail.com\",\r\n//         \"password\": \"$2b$10$6gP7EkLDBH2y4Dxl.phKHOVI6BVpiXH2DQZ14/AuTzY7IIkPNFHpC\",\r\n\r\n//         \"followings\": [1,2,3]\r\n//     },\r\n//     isFetching: false,\r\n//     error: false\r\n// }\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE)\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE)\r\n\r\n    return (\r\n        <AuthContext.Provider value={{\r\n            user: state.user,\r\n            isFetching: state.isFetching,\r\n            error: state.error,\r\n            dispatch\r\n        }} >\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}","import './topbar.css'\r\nimport { Search, Person, Chat, Notifications } from \"@material-ui/icons\"\r\nimport { Link } from 'react-router-dom'\r\nimport { useContext } from 'react'\r\nimport { AuthContext } from '../../context/AuthContext'\r\n\r\nexport default function Topbar() {\r\n    const { user } = useContext(AuthContext)\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    return (\r\n        <div className='topbarContainer'>\r\n            <div className=\"topbarLeft\">\r\n                <Link to='/' style={{textDecoration: 'none'}}>\r\n                    <span className=\"logo\">Lamasocial</span>\r\n                </Link>\r\n            </div>\r\n            <div className=\"topbarCenter\">\r\n                <div className=\"searchBar\">\r\n                    <Search className='searchIcon'/>\r\n                    <input placeholder=\"Search for friends, posts, or videos\" className=\"searchInput\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"topbarRight\">\r\n                <div className=\"topbarLinks\">\r\n                    <span className=\"topbarLink\">Homepage</span>\r\n                    <span className=\"topbarLink\">Timeline</span>\r\n                </div>\r\n                <div className=\"topbarIcons\">\r\n                    <div className=\"topbarIconItem\">\r\n                        <Person />\r\n                        <span className=\"topbarIconBadge\">1</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"topbarIconItem\">\r\n                        <Link to='/messenger'>\r\n                            <Chat />\r\n                        </Link>\r\n                        <span className=\"topbarIconBadge\">2</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"topbarIconItem\">\r\n                        <Notifications />\r\n                        <span className=\"topbarIconBadge\">1</span>\r\n                    </div>\r\n                </div>\r\n                <Link to={`/profile/${user.username}`}>\r\n                    <img\r\n                        src={\r\n                            user.profilePic\r\n                                ? PF + user.profilePic \r\n                                : PF + \"person/noAvatar.png\"\r\n                        }\r\n                        alt=\"\" className=\"topbarImg\" \r\n                    />\r\n                </Link>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const Users = [\r\n    {\r\n      id:1,\r\n      profilePicture: \"person/1.jpeg\",\r\n      username: \"Safak Kocaoglu\",\r\n    },\r\n    {\r\n      id:2,\r\n      profilePicture: \"person/2.jpeg\",\r\n      username: \"Janell Shrum\",\r\n    },\r\n    {\r\n      id:3,\r\n      profilePicture: \"person/3.jpeg\",\r\n      username: \"Alex Durden\",\r\n    },\r\n    {\r\n      id:4,\r\n      profilePicture: \"person/4.jpeg\",\r\n      username: \"Dora Hawks\",\r\n    },\r\n    {\r\n      id:5,\r\n      profilePicture: \"person/5.jpeg\",\r\n      username: \"Thomas Holden\",\r\n    },\r\n    {\r\n      id:6,\r\n      profilePicture: \"person/6.jpeg\",\r\n      username: \"Shirley Beauchamp\",\r\n    },\r\n    {\r\n      id:7,\r\n      profilePicture: \"person/7.jpeg\",\r\n      username: \"Travis Bennett\",\r\n    },\r\n    {\r\n      id:8,\r\n      profilePicture: \"person/8.jpeg\",\r\n      username: \"Kristen Thomas\",\r\n    },\r\n    {\r\n      id:9,\r\n      profilePicture: \"person/9.jpeg\",\r\n      username: \"Gary Duty\",\r\n    },\r\n    {\r\n      id:10,\r\n      profilePicture: \"person/10.jpeg\",\r\n      username: \"Safak Kocaoglu\",\r\n    },\r\n  ];\r\n  \r\n  export const Posts = [\r\n    {\r\n      id: 1,\r\n      desc: \"Love For All, Hatred For None.\",\r\n      photo: \"post/1.jpeg\",\r\n      date: \"5 mins ago\",\r\n      userId: 1,\r\n      like: 32,\r\n      comment: 9,\r\n    },\r\n    {\r\n      id: 2,\r\n      photo: \"post/2.jpeg\",\r\n      date: \"15 mins ago\",\r\n      userId: 2,\r\n      like: 2,\r\n      comment: 1,\r\n    },\r\n    {\r\n      id: 3,\r\n      desc: \"Every moment is a fresh beginning.\",\r\n      photo: \"post/3.jpeg\",\r\n      date: \"1 hour ago\",\r\n      userId: 3,\r\n      like: 61,\r\n      comment: 2,\r\n    },\r\n    {\r\n      id: 4,\r\n      photo: \"post/4.jpeg\",\r\n      date: \"4 hours ago\",\r\n      userId: 4,\r\n      like: 7,\r\n      comment: 3,\r\n    },\r\n    {\r\n      id: 5,\r\n      photo: \"post/5.jpeg\",\r\n      date: \"5 hours ago\",\r\n      userId: 5,\r\n      like: 23,\r\n      comment: 5,\r\n    },\r\n    {\r\n      id: 6,\r\n      photo: \"post/6.jpeg\",\r\n      date: \"1 day ago\",\r\n      userId: 6,\r\n      like: 44,\r\n      comment: 6,\r\n    },\r\n    {\r\n      id: 7,\r\n      desc: \"Never regret anything that made you smile.\",\r\n      photo: \"post/7.jpeg\",\r\n      date: \"2 days ago\",\r\n      userId: 7,\r\n      like: 52,\r\n      comment: 3,\r\n    },\r\n    {\r\n      id: 8,\r\n      photo: \"post/8.jpeg\",\r\n      date: \"3 days ago\",\r\n      userId: 8,\r\n      like: 15,\r\n      comment: 1,\r\n    },\r\n    {\r\n      id: 9,\r\n      desc: \"Change the world by being yourself.\",\r\n      photo: \"post/9.jpeg\",\r\n      date: \"5 days ago\",\r\n      userId: 9,\r\n      like: 11,\r\n      comment: 2,\r\n    },\r\n    {\r\n      id: 10,\r\n      photo: \"post/10.jpeg\",\r\n      date: \"1 week ago\",\r\n      userId: 10,\r\n      like: 104,\r\n      comment: 12,\r\n    },\r\n  ];","import './closeFriend.css'\r\n\r\nexport default function CloseFriend({user}) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    return (\r\n        <div>\r\n            <li className=\"sidebarFriend\">\r\n                <img className='sidebarFriendImg' src={PF + user.profilePicture} alt=\"\" />\r\n                <span className='sidebarFriendName'>{user.username}</span>\r\n            </li>\r\n        </div>\r\n    )\r\n}\r\n","import \"./sidebar.css\"\r\nimport { RssFeed, Chat, PlayCircleFilled, Group, Bookmark, HelpOutline, Work, Event } from '@material-ui/icons'\r\nimport { Users } from '../../dummyData'\r\nimport CloseFriend from \"../closeFriends/CloseFriend\"\r\n\r\nexport default function Sidebar() {\r\n    return (\r\n        <div className='sidebar'>\r\n            <div className='sidebarWrapper'>\r\n                <ul className=\"sidebarList\">\r\n                    <li className=\"sidebarListItem\">\r\n                        <PlayCircleFilled className='sidebarIcon' />\r\n                        <span className=\"sidebarListItemText\">\r\n                            Videos\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Group className='sidebarIcon' />\r\n                        <span className=\"sidebarListItemText\">\r\n                            Groups\r\n                        </span>\r\n                    </li>\r\n                    <li  className=\"sidebarListItem\">\r\n                        <Bookmark className='sidebarIcon' />\r\n                        <span className=\"sidebarListItemText\">\r\n                            Bookmarks\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <HelpOutline className='sidebarIcon' />\r\n                        <span className=\"sidebarListItemText\">\r\n                            Questions\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Work className='sidebarIcon' />\r\n                        <span className=\"sidebarListItemText\">\r\n                            Jobs\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Event className='sidebarIcon' />\r\n                        <span className=\"sidebarListItemText\">\r\n                            Events\r\n                        </span>\r\n                    </li>\r\n                </ul>\r\n                <button className='sidebarButton'>Show More</button>\r\n                <hr className='sidebarHr' />\r\n                <ul className=\"sidebarFriendList\">\r\n                    {Users.map((u) => (\r\n                        <CloseFriend key={u.id} user={u}/>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import axios from 'axios'\r\n\r\n\r\nconst getAxiosInstance = () => {\r\n    if (process.env.NODE_ENV === 'development') {\r\n        console.log('it was dervelo')\r\n        return axios.create({\r\n            baseURL: 'http://localhost:8800/api/'\r\n        })\r\n    } else {\r\n        console.log('it was productoin')\r\n        return axios.create({\r\n            baseURL: \"https://dmatu-social-media.herokuapp.com/api/\"\r\n        })\r\n    }\r\n}\r\n\r\nconst axiosInstance = getAxiosInstance()\r\nconsole.log('hers axios instance')\r\nconsole.log(axiosInstance)\r\n\r\n\r\nexport { axiosInstance }","import './share.css'\r\nimport { PermMedia, Label, Room, EmojiEmotions, Cancel } from '@material-ui/icons'\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport { useContext, useRef, useState } from 'react'\r\nimport { axiosInstance } from '../../config'\r\n\r\nexport default function Share() {\r\n    const { user } = useContext(AuthContext)\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    const desc = useRef()\r\n    const [file, setFile] = useState(null)\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault()\r\n        const newPost = {\r\n            userId: user._id,\r\n            desc: desc.current.value\r\n        }\r\n        if (file) {\r\n            const data = new FormData()\r\n            const fileName = Date.now() + file.name\r\n            data.append(\"name\", fileName) // fileName\r\n            data.append(\"file\", file)\r\n\r\n            newPost.img = fileName\r\n            try {\r\n                await axiosInstance.post('/upload', data)\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n        try{\r\n            await axiosInstance.post('/posts', newPost)\r\n            window.location.reload()\r\n        } catch(err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='share'>\r\n            <div className=\"shareWrapper\">\r\n                <div className=\"shareTop\">\r\n                    <img className=\"shareProfileImg\" src={user.profilePic ? PF + user.profilePic : PF + \"person/noAvatar.png\"} alt=\"\" />\r\n                    <input\r\n                        placeholder={\"Whats on your mind \" + user.username + \"?\"}\r\n                        className='shareInput'\r\n                        ref={desc}\r\n                    />\r\n                </div>\r\n                <hr className='shareHr' />\r\n                { file && (\r\n                    <div className=\"shareImgContainer\">\r\n                        <img className=\"shareImg\" src={URL.createObjectURL(file)} alt=\"\" />\r\n                        <Cancel className=\"shareCancelImg\" onClick={()=>setFile(null)}/>\r\n                    </div>\r\n                )}\r\n                <form className=\"shareBottom\" onSubmit={submitHandler}>\r\n                    <div className=\"shareOptions\">\r\n                        <label htmlFor=\"file\" className=\"shareOption\">\r\n                            <PermMedia htmlColor=\"tomato\" className='shareIcon' />\r\n                            <span className='shareOptionText'>Photo or Video</span>\r\n                            <input style={{display:'none'}} type=\"file\" id=\"file\" accept=\".png,.jpeg,.jpg\" onChange={(e) => setFile(e.target.files[0])} />\r\n                        </label>\r\n                        <div className=\"shareOption\">\r\n                            <Label htmlColor=\"blue\" className='shareIcon' />\r\n                            <span className='shareOptionText'>Tag</span>\r\n                        </div>\r\n                        <div className=\"shareOption\">\r\n                            <Room htmlColor=\"green\" className='shareIcon' />\r\n                            <span className='shareOptionText'>Location</span>\r\n                        </div>\r\n                        <div className=\"shareOption\">\r\n                            <EmojiEmotions htmlColor=\"goldenrod\" className='shareIcon' />\r\n                            <span className='shareOptionText'>Feelings</span>\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"shareButton\" type=\"submit\">Share</button>\r\n                </form>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./post.css\"\r\nimport { MoreVert } from '@material-ui/icons'\r\nimport { useState, useEffect } from 'react'\r\nimport { axiosInstance } from '../../config'\r\nimport { format } from 'timeago.js'\r\nimport { useContext } from 'react'\r\nimport { AuthContext } from '../../context/AuthContext'\r\n\r\nexport default function Post({ post }) {\r\n    const [like, setLike] = useState(post.likes.length)\r\n    const [isLiked, setIsLiked] = useState(false)\r\n    const [user, setUser] = useState({})\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    const { user: currentUser } = useContext(AuthContext)\r\n\r\n    useEffect(() => {\r\n        setIsLiked(post.likes.includes(currentUser._id))\r\n    }, [currentUser._id, post.likes])\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            const res = await axiosInstance.get(`/user?userId=${post.userId}`)\r\n            setUser(res.data)\r\n        }\r\n        fetchUser()\r\n    }, [post.userId])\r\n\r\n    const likeHandler = () => {\r\n        try{\r\n            axiosInstance.put(\"/posts/\" + post._id +\"/like\" , {userId: currentUser._id})\r\n        } catch (err) {\r\n\r\n        }\r\n        setLike(isLiked ? like - 1 : like + 1)\r\n        setIsLiked(!isLiked)\r\n    }\r\n    return (\r\n        <div className='post'>\r\n            <div className=\"postWrapper\">\r\n                <div className=\"postTop\">\r\n                    <div className=\"postTopLeft\">\r\n                        <img className='postProfileImg' \r\n                            src={user.profilePic \r\n                                    ? PF + user.profilePic\r\n                                    : PF + \"person/noAvatar.png\"\r\n                                } \r\n                            alt=\"\" \r\n                        />\r\n                        <span className=\"postUsername\">\r\n                            {user.username}\r\n                        </span>\r\n                        <span className=\"postDate\">{format(post.createdAt)}</span>\r\n                    </div>\r\n                    <div className=\"postTopRight\">\r\n                        <MoreVert />\r\n                    </div>\r\n                </div>\r\n                <div className=\"postCenter\">\r\n                    <span className=\"postText\">{post?.desc}</span>\r\n                    <img className='postImg' src={PF + post.img} alt=\"\" />\r\n                </div>\r\n                <div className=\"postBottom\">\r\n                    <div className=\"postBottomLeft\">\r\n                        <img className='likeButton' src={`${PF}like.png`} onClick={likeHandler} alt=\"\" />\r\n                        <img className='likeButton' src={`${PF}heart.png`} onClick={likeHandler} alt=\"\" />\r\n                        <span className=\"postLikeCounter\">{like} people like it</span>\r\n                    </div>\r\n                    <div className=\"postBottomRight\">\r\n                        <span className=\"postCommentText\">\r\n                            {post.comment} comments\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import Share from '../share/Share'\r\nimport Post from '../post/Post'\r\nimport \"./feed.css\"\r\nimport { useState, useEffect, useContext } from 'react'\r\nimport { axiosInstance } from '../../config'\r\nimport { AuthContext } from '../../context/AuthContext'\r\n\r\nexport default function Feed({ username }) {\r\n    const [posts, setPosts] = useState([])\r\n    const { user } = useContext(AuthContext)\r\n\r\n    useEffect(() => {\r\n        const fetchPosts = async () => {\r\n            const res = username\r\n                ? await axiosInstance.get(\"/posts/profile/\" + username)\r\n                : await axiosInstance.get(\"/posts/timeline/\" + user._id)\r\n            setPosts(res.data.sort((p1, p2) => {\r\n                return new Date(p2.createdAt) - new Date(p1.createdAt)\r\n            }))\r\n        }\r\n        fetchPosts()\r\n    }, [username, user._id])\r\n    return (\r\n        <div className='feed'>\r\n            <div className=\"feedWrapper\">\r\n                {(!username || username === user.username) && <Share />}\r\n                {posts.map(p => (\r\n                    <Post key={p._id} post={p} />\r\n                ))}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import './online.css'\r\n\r\nexport default function Online({user}) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    return (\r\n        <li className=\"rightbarFriend\">\r\n            <div className=\"rightbarProfileImgContainer\">\r\n                <img className='rightbarProfileImg' \r\n                    src={PF + user.profilePicture}\r\n                    alt=\"\" />\r\n                <span className='rightbarOnline'></span>\r\n            </div>\r\n            <span className=\"rightbarUserName\">{user.username}</span>\r\n        </li>\r\n    )\r\n}\r\n","import \"./rightbar.css\"\r\nimport { Users } from '../../dummyData'\r\nimport Online from \"../online/Online\"\r\nimport { useState, useEffect, useContext } from 'react'\r\nimport { axiosInstance } from '../../config'\r\nimport { Link } from 'react-router-dom'\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport { Add, Remove } from '@material-ui/icons'\r\n\r\nexport default function Rightbar({ user }) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    const [friends, setFriends] = useState([])\r\n    const { user: currentUser, dispatch } = useContext(AuthContext)\r\n    const [followed, setFollowed] = useState(currentUser.followings.includes(user?.id))\r\n\r\n    // useEffect(() => {\r\n    //     setFollowed(currentUser.followings.includes(user?.id))\r\n    // }, [currentUser, user.id])\r\n\r\n    useEffect(() => {\r\n        const getFriends = async () => {\r\n            try {\r\n                const friendList = await axiosInstance.get('/user/friends/' + currentUser._id)\r\n                setFriends(friendList.data)\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n        getFriends()\r\n    }, [currentUser])\r\n\r\n    const handleClick = async () => {\r\n        try {\r\n            if (followed){\r\n                await axiosInstance.put('/user/' + user._id + \"/unfollow\", {\r\n                    userId: currentUser._id\r\n                })\r\n                dispatch({type: \"UNFOLLOW\", payload:user._id})\r\n            } else {\r\n                await axiosInstance.put('/user/' + user._id + \"/follow\", {\r\n                    userId: currentUser._id\r\n                })\r\n                dispatch({type: \"FOLLOW\", payload:user._id})\r\n            }\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n        setFollowed(!followed)\r\n    }\r\n\r\n    const HomeRightBar = () => {\r\n        return (\r\n            <>\r\n                <div className=\"birthdayContainer\">\r\n                    <img className='birthdayImg' src=\"assets/gift.png\" alt=\"\" />\r\n                    <span className=\"birthdayText\"> <b>Pola Foster</b> and <b>3 other friends</b> have a birthday today</span>\r\n                </div>\r\n\r\n                <img className='rightbarAd' src=\"assets/ad.png\" alt=\"\" />\r\n                <h4 className=\"rightbarTitle\">Online Friends</h4>\r\n                <ul className=\"rightbarFriendList\">\r\n\r\n                    {Users.map(u => (\r\n                        <Online key={u.id} user={u} />\r\n                    ))}\r\n                </ul>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const ProfileRightBar = () => {\r\n        return (\r\n            <>\r\n                {user.username !== currentUser.username && (\r\n                    <button className=\"rightbarFollowButton\" onClick={handleClick}>\r\n                        {followed ? \"Unfollow\" : \"Follow\"}\r\n                        {followed ? <Remove /> : <Add /> }\r\n                    </button>\r\n                )}\r\n                <h4 className='rightbarTitle'>User Information </h4>\r\n                <div className=\"rightbarInfo\">\r\n                    <div className=\"rightbarInfoItem\">\r\n                        <span className=\"rightbarInfoKey\">City:</span>\r\n                        <span className=\"rightbarInfoValue\">{user.city}</span>\r\n                    </div>\r\n                    <div className=\"rightbarInfoItem\">\r\n                        <span className=\"rightbarInfoKey\">From:</span>\r\n                        <span className=\"rightbarInfoValue\">{user.from}</span>\r\n                    </div>\r\n                    <div className=\"rightbarInfoItem\">\r\n                        <span className=\"rightbarInfoKey\">Relationship:</span>\r\n                        <span className=\"rightbarInfoValue\">\r\n                            {user.relationship === 1\r\n                                ? \"Single\"\r\n                                : user.relationship === 2\r\n                                    ? \"Married\"\r\n                                    : '-'}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <h4 className='rightbarTitle'>User friends</h4>\r\n                <div className='rightbarFollowings'>\r\n                    {friends.map((friend) => (\r\n                        <Link key={friend._id} to={\"/profile/\" + friend.username} style={{textDecoration:\"none\"}}>\r\n                            <div className='rightbarFollowing'>\r\n                                <img\r\n                                    src={friend.profilePicture\r\n                                        ? PF + friend.profilePicture\r\n                                        : PF + \"person/noAvatar.png\"\r\n                                    }\r\n                                    alt=\"\"\r\n                                    className=\"rightbarFollowingImg\" />\r\n                                <span className=\"rightbarFollowingName\">{friend.username}</span>\r\n                            </div>\r\n                        </Link>\r\n                    ))}\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n    return (\r\n        <div className='rightbar'>\r\n            <div className=\"rightbarWrapper\">\r\n                {user ? <ProfileRightBar /> : <HomeRightBar />}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import Topbar from \"../../components/topbar/Topbar\"\r\nimport Sidebar from \"../../components/sidebar/Sidebar\"\r\nimport Feed from \"../../components/feed/Feed\"\r\nimport Rightbar from \"../../components/rightbar/Rightbar\"\r\nimport \"./home.css\"\r\n\r\nexport default function Home() {\r\n    return (\r\n        <>\r\n            <Topbar />\r\n            <div className=\"homeContainer\">\r\n                <Sidebar />\r\n                <Feed />\r\n                <Rightbar />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import { axiosInstance } from './config'\r\n\r\nexport const loginCall = async (userCredential, dispatch) => {\r\n    dispatch({ type: \"LOGIN_START\" })\r\n    try {\r\n        const res = await axiosInstance.post('/auth/login', userCredential)\r\n        console.log('user credential')\r\n        console.log(userCredential)\r\n        console.log('the res from apicall')\r\n        console.log(res)\r\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data })\r\n    } catch (err) {\r\n        dispatch({ type: \"LOGIN_FAILURE\", payload: err })\r\n    }\r\n}","import './login.css'\r\nimport { useRef, useContext } from 'react'\r\nimport { loginCall } from '../../apiCalls'\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport { CircularProgress } from '@material-ui/core'\r\nimport { axiosInstance } from '../../config'\r\n\r\nexport default function Login() {\r\n    const email = useRef()\r\n    const password = useRef()\r\n    const { user, isFetching, error, dispatch } = useContext(AuthContext)\r\n    const handleClick = (e) => {\r\n        e.preventDefault()\r\n        loginCall({email:email.current.value, password:password.current.value}, dispatch)\r\n    }\r\n\r\n    return (\r\n        <div className='login'>\r\n            <div className=\"loginWrapper\">\r\n                <div className=\"loginLeft\">\r\n                    <h3 className=\"loginLogo\">Lamasocial</h3>\r\n                    <span className=\"loginDesc\">Connect with friends and the world around you on Lamasocial</span>\r\n                </div>\r\n                <div className=\"loginRight\">\r\n                    <form className=\"loginBox\" onSubmit={handleClick}>\r\n                        <input placeholder=\"Email\" type='email' className='loginInput' ref={email} />\r\n                        <input required placeholder=\"Password\" type='password' minLength=\"6\" className='loginInput' ref={password} />\r\n                        <button className=\"loginButton\" disabled={isFetching}>\r\n                            {isFetching ? <CircularProgress color='white' size=\"20px\"/> : \"Log in\"}\r\n                        </button>\r\n                        <span className='loginForgot'>Forgot password?</span>\r\n                        <button className=\"loginRegisterButton\" disabled={isFetching}>\r\n                            {isFetching ? <CircularProgress color={'white'} size=\"20px\"/> : \"Create a New Account\"}\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import './profile.css'\r\nimport Topbar from \"../../components/topbar/Topbar\"\r\nimport Sidebar from \"../../components/sidebar/Sidebar\"\r\nimport Feed from \"../../components/feed/Feed\"\r\nimport Rightbar from \"../../components/rightbar/Rightbar\"\r\nimport { useEffect, useState } from 'react'\r\nimport { axiosInstance } from '../../config'\r\nimport { useParams } from 'react-router'\r\n\r\nexport default function Profile() {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    const [user, setUser] = useState({})\r\n    const username = useParams().username\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            const res = await axiosInstance.get(`/user?username=${username}`)\r\n            setUser(res.data)\r\n        }\r\n        fetchUser()\r\n    }, [username])\r\n\r\n    return (\r\n        <div>\r\n            <>\r\n                <Topbar />\r\n                <div className=\"profile\">\r\n                    <Sidebar />\r\n                    <div className=\"profileRight\">\r\n                        <div className=\"profileRightTop\">\r\n                            <div className=\"profileCover\">\r\n                                <img className=\"profileCoverImg\" \r\n                                    src={\r\n                                        user.coverPicture ? \r\n                                            PF + user.coverPicture : \r\n                                            PF + \"/person/noCover.png\"\r\n                                    } \r\n                                    alt=\"\" \r\n                                />\r\n                                <img className=\"profileUserImg\" \r\n                                    src={user.profilePic \r\n                                        ? PF + user.profilePic\r\n                                        : PF + '/person/noAvatar.png'\r\n                                    } \r\n                                    alt=\"\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"profileInfo\">\r\n                                <h4 className='profileInfoName'>{user.username}</h4>\r\n                                <span className='profileInfoDesc'>{user.desc}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profileRightBottom\">\r\n                            <Feed username={username}/>\r\n                            <Rightbar user={user} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        </div>\r\n    )\r\n}\r\n","import { useRef, useEffect } from 'react'\r\nimport './register.css'\r\nimport { axiosInstance } from '../../config'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Link } from 'react-router-dom'\r\nimport { io } from 'socket.io-client'\r\n\r\nexport default function Register() {\r\n    const username = useRef()\r\n    const email = useRef()\r\n    const password = useRef()\r\n    const passwordAgain = useRef()\r\n    const history = useHistory()\r\n\r\n    const handleClick = async (e) => {\r\n        e.preventDefault()\r\n        if (passwordAgain.current.value !== password.current.value) {\r\n            passwordAgain.current.setCustomValidity(\"Passwords don't match!\")\r\n        } else {\r\n            const user = {\r\n                username: username.current.value,\r\n                email: email.current.value,\r\n                password: password.current.value,\r\n            }\r\n            try {\r\n                await axiosInstance.post('/auth/register', user)\r\n                history.push(\"/login\")\r\n            } catch (err) {\r\n                // finish notes - add unique validation\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div className='login'>\r\n            <div className=\"loginWrapper\">\r\n                <div className=\"loginLeft\">\r\n                    <h3 className=\"loginLogo\">Lamasocial</h3>\r\n                    <span className=\"loginDesc\">Connect with friends and the world around you on Lamasocial</span>\r\n                </div>\r\n                <div className=\"loginRight\">\r\n                    <form className=\"loginBox\" onSubmit={handleClick}>\r\n                        <input placeholder=\"Username\" required ref={username} className='loginInput' />\r\n                        <input placeholder=\"Email\" type=\"email\" required ref={email} className='loginInput' />\r\n                        <input placeholder=\"Password\" type=\"password\" required minLength=\"6\" ref={password} className='loginInput' />\r\n                        <input placeholder=\"Password Again\" type=\"password\" required ref={passwordAgain} className='loginInput' />\r\n                        <button className=\"loginButton\">Sign Up</button>\r\n                        <Link to=\"/login\" className='loginRegisterLink'>\r\n                            <button type=\"submit\" className=\"loginRegisterButton\">\r\n                                Log into Account\r\n                            </button>\r\n                        </Link>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./conversation.css\"\r\nimport { useEffect, useState } from 'react'\r\nimport { axiosInstance } from '../../config'\r\n\r\nexport default function Conversation({ conversation, currentUser }) {\r\n    const [user, setUser] = useState({})\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n\r\n    useEffect(() => {\r\n        const friendId = conversation.members.find((m) => m !== currentUser._id)\r\n\r\n        const getUser = async () => {\r\n            try {\r\n                const res = await axiosInstance('/user?userId=' + friendId)\r\n                setUser(res.data)\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n        getUser()\r\n\r\n    }, [currentUser, conversation])\r\n\r\n\r\n\r\n    return (\r\n        <div className='conversation'>\r\n            <img className='conversationImg'\r\n                src={ user.profilePic ? PF + user.profilePic : PF + \"person/noAvatar.png\"}\r\n                alt=\"\"\r\n            />\r\n            <span className=\"conversationName\">{user.username}</span>\r\n        </div>\r\n    )\r\n}\r\n","import './message.css'\r\nimport { format } from 'timeago.js'\r\n\r\nexport default function Message({message, own}) {\r\n    return (\r\n        <div className={own ? \"message own\" : \"message\"}>\r\n            <div className=\"messageTop\">\r\n                <img\r\n                    className='messageImg'\r\n                    src=\"https://images.pexels.com/photos/7537863/pexels-photo-7537863.jpeg?auto=compress&cs=tinysrgb&h=650&w=940\"\r\n                    alt=\"\"\r\n                />\r\n                <p className='messageText'>{message.text}</p>\r\n            </div>\r\n            <div className=\"messageBottom\">{format(message.createdAt)}</div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./chatOnline.css\"\r\nimport { axiosInstance } from '../../config'\r\nimport { useState, useEffect } from 'react'\r\n\r\nexport default function ChatOnline({ onlineUsers, currentId, setCurrentChat }) {\r\n    const [friends, setFriends] = useState([])\r\n    const [onlineFriends, setOnlineFriends] = useState([])\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n\r\n    useEffect(() => {\r\n        const getFriends = async () => {\r\n            const res = await axiosInstance.get('/user/friends/' + currentId)\r\n            setFriends(res.data)\r\n        }\r\n\r\n        getFriends()\r\n    }, [currentId])\r\n\r\n    useEffect(() => {\r\n        console.log('heres friends')\r\n        console.log(friends)\r\n        setOnlineFriends(friends.filter(f => onlineUsers.includes(f._id)))\r\n    }, [friends, onlineUsers])\r\n\r\n    const handleClick = async (user) => {\r\n        try {\r\n            console.log('current id')\r\n            console.log(currentId)\r\n            console.log('friend id')\r\n            console.log(user._id)\r\n            const res = await axiosInstance.get(`/conversations/find/${currentId}/${user._id}`)\r\n            setCurrentChat(res.data)\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='chatOnline'>\r\n            {onlineFriends.map((o) => (\r\n\r\n                <div className=\"chatOnlineFriend\" onClick={() => handleClick(o)}>\r\n                    <div className=\"chatOnlineImgContainer\">\r\n                        <img\r\n                            className='chatOnlineImg'\r\n                            src={o?.profilePic\r\n                                ? PF + o.profilePic\r\n                                : PF + \"person/noAvatar.png\"}\r\n                            alt=\"\" />\r\n                        <div className=\"chatOnlineBadge\"></div>\r\n                    </div>\r\n                    <div className=\"chatOnlineName\">{o.username}</div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n","import './messenger.css'\r\nimport Topbar from '../../components/topbar/Topbar'\r\nimport Conversation from '../../components/conversations/Conversation'\r\nimport Message from '../../components/message/Message'\r\nimport ChatOnline from '../../components/chatOnline/ChatOnline'\r\nimport { useContext, useEffect, useState, useRef } from 'react'\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport { axiosInstance } from '../../config'\r\nimport { io } from 'socket.io-client'\r\n\r\nexport default function Messenger() {\r\n    const [ conversations, setConversations ] = useState([])\r\n    const [ currentChat, setCurrentChat ] = useState(null)\r\n    const [ messages, setMessages ] = useState([])\r\n    const [ newMessage, setNewMessage ] = useState(\"\")\r\n    const [ arrivalMessage, setArrivalMessage ] = useState(null)\r\n    const [ onlineUsers, setOnlineUsers ] = useState([])\r\n    const socket = useRef()\r\n    const { user } = useContext(AuthContext)\r\n    const scrollRef = useRef()\r\n\r\n    useEffect(() => {\r\n\r\n        if (process.env.NODE_ENV === 'production') {\r\n            //next try <socket.current = io()>\r\n            // socket.current = io('wss://dmatu-social-media.herokuapp.com/socket.io/?EIO=4&transport=websocket')\r\n            socket.current = io('wss://dmatu-social-media.herokuapp.com')\r\n\r\n        } else { \r\n            socket.current = io('ws://localhost:8800')\r\n        }\r\n\r\n        socket.current.on('connect', () => {\r\n            console.log('connected')\r\n        })\r\n\r\n\r\n        socket.current.on('time', function(timeString) {\r\n            console.log('lmaoz timestringgg from messgng')\r\n            console.log(timeString)\r\n        });\r\n\r\n        const outputSlowly = () => {\r\n            console.log('heres socket current')\r\n            console.log(socket.current.connected)\r\n        }\r\n        setTimeout(outputSlowly, 5000)\r\n        socket.current.on(\"getMessage\", (data) => {\r\n            setArrivalMessage({\r\n                sender: data.senderId, \r\n                text: data.text,\r\n                createdAt: Date.now()\r\n            })\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        arrivalMessage && \r\n        currentChat?.members.includes(arrivalMessage.sender) &&\r\n        setMessages((prev)=>[...prev, arrivalMessage])\r\n    }, [arrivalMessage, currentChat])\r\n\r\n    useEffect(() => {\r\n        socket.current.emit('addUser', user._id)\r\n        socket.current.on('getUsers', (users) => {\r\n            setOnlineUsers(user.followings.filter(f=>users.some(u=>u.userId === f)))\r\n        })\r\n    }, [user])\r\n\r\n    useEffect(() => {\r\n        const getConversations = async () => {\r\n            try{\r\n                const res = await axiosInstance.get('/conversations/' + user._id)\r\n                setConversations(res.data)\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n        getConversations()\r\n    }, [user._id])\r\n\r\n    useEffect(() => {\r\n        const getMessages = async () => {\r\n            try{\r\n                const res = await axiosInstance.get('/messages/' + currentChat?._id)\r\n                setMessages(res.data)\r\n                // setNewMessage(\"\")\r\n            } catch(err){ \r\n                console.log(err)\r\n            }\r\n        }\r\n        getMessages()\r\n    }, [currentChat])\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        const message = {\r\n            sender: user._id,\r\n            text: newMessage, \r\n            conversationId: currentChat._id\r\n        }\r\n\r\n        const receiverId = currentChat.members.find(member=> member !== user._id)\r\n\r\n        socket.current.emit('sendMessage', {\r\n            senderId: user._id,\r\n            receiverId,\r\n            text: newMessage\r\n        })\r\n\r\n        try{\r\n            const res = await axiosInstance.post('/messages', message)\r\n            setMessages([...messages, res.data])\r\n            setNewMessage(\"\")\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        scrollRef.current?.scrollIntoView({behavior: \"smooth\"})\r\n    }, [messages])\r\n\r\n    return (\r\n        <>\r\n            <Topbar />\r\n            <div className='messenger'>\r\n                <div className=\"chatMenu\">\r\n                    <div className=\"chatMenuWrapper\">\r\n                        <input placeholder=\"Search for friends\"  className=\"chatMenuInput\"/>\r\n                        {conversations.map((c) => {\r\n                            return (\r\n                                <div key={c._id} onClick={()=>setCurrentChat(c)}>\r\n                                    <Conversation key={c._id} conversation={c} currentUser={user} />\r\n                                </div>\r\n                            )\r\n                        })}  \r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"chatBox\">\r\n                    <div className=\"chatBoxWrapper\">\r\n                        {\r\n                            currentChat ? \r\n                        <>\r\n                            <div className=\"chatBoxTop\">\r\n                                {\r\n                                    messages.map(m=>(\r\n                                        <div key={m._id} ref={scrollRef}>\r\n                                            <Message key={m._id} message={m} own={m.sender === user._id} />\r\n                                        </div>\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                            <div className=\"chatBoxBottom\">\r\n                                <textarea className='chatMessageInput' \r\n                                          placeholder=\"write something...\"\r\n                                          onChange={(e)=>setNewMessage(e.target.value)}\r\n                                          value={newMessage}\r\n                                          >\r\n                                </textarea>\r\n                                <button className='chatSubmitButton' onClick={handleSubmit}>Send</button>\r\n                            </div>\r\n                        </>\r\n                        : <span className='noConversationText'>Open a conversation to start a chat.</span>}\r\n                    </div>\r\n                </div>\r\n                <div className=\"chatOnline\">\r\n                    <div className=\"chatOnlineWrapper\">\r\n                        <ChatOnline onlineUsers={onlineUsers} currentId={user._id} setCurrentChat={setCurrentChat}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import Home from \"./pages/home/Home\";\nimport Login from './pages/login/Login';\nimport Profile from './pages/profile/Profile';\nimport Register from './pages/register/Register';\nimport { \n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom'\nimport { useContext } from \"react\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport Messenger from \"./pages/messenger/Messenger\";\n\nfunction App() {\n\n  const {user} = useContext(AuthContext)\n  return (\n    <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            {user ? <Home /> : <Register />}\n          </Route>\n          <Route path=\"/login\">\n            {user ? <Redirect to='/'/> : <Login />}\n          </Route>\n          <Route path=\"/register\">\n            {user ? <Redirect to='/'/> : <Register />}\n          </Route>\n          <Route path=\"/messenger\">\n            {!user ? <Redirect to='/'/> : <Messenger />}\n          </Route>\n          <Route path=\"/profile/:username\">\n            <Profile />\n          </Route>\n        </Switch>\n    </Router>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext'\n\nReactDOM.render(\n  <React.StrictMode>\n      {/* <p>just something really simple - shoudlnt cause any problems!</p> */}\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}