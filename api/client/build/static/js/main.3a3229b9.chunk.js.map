{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","components/topbar/Topbar.jsx","dummyData.js","components/closeFriends/CloseFriend.jsx","components/sidebar/Sidebar.jsx","config.js","components/share/Share.jsx","components/post/Post.jsx","components/feed/Feed.jsx","components/online/Online.jsx","components/rightbar/Rightbar.jsx","pages/home/Home.jsx","apiCalls.js","pages/login/Login.jsx","pages/profile/Profile.jsx","pages/register/Register.jsx","components/conversations/Conversation.jsx","components/message/Message.jsx","components/chatOnline/ChatOnline.jsx","pages/messenger/Messenger.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","isFetching","error","payload","followings","filter","following","INITIAL_STATE","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","Provider","value","Topbar","useContext","PF","process","className","to","style","textDecoration","Search","placeholder","Person","Chat","Notifications","username","src","profilePic","alt","Users","id","profilePicture","CloseFriend","Sidebar","PlayCircleFilled","Group","Bookmark","HelpOutline","Work","Event","map","u","axiosInstance","Share","desc","useRef","useState","file","setFile","submitHandler","e","a","preventDefault","newPost","userId","_id","current","data","FormData","fileName","Date","now","name","append","img","post","console","log","window","location","reload","ref","URL","createObjectURL","Cancel","onClick","onSubmit","htmlFor","PermMedia","htmlColor","display","accept","onChange","target","files","Label","Room","EmojiEmotions","axios","create","baseURL","Post","likes","length","like","setLike","isLiked","setIsLiked","setUser","currentUser","useEffect","includes","get","res","fetchUser","likeHandler","put","err","format","createdAt","MoreVert","comment","Feed","posts","setPosts","sort","p1","p2","fetchPosts","p","Online","Rightbar","friends","setFriends","followed","setFollowed","friendList","getFriends","handleClick","HomeRightBar","ProfileRightBar","Remove","Add","city","from","relationship","friend","Home","loginCall","userCredential","Login","email","password","required","minLength","disabled","CircularProgress","color","size","Profile","useParams","coverPicture","Register","passwordAgain","history","useHistory","setCustomValidity","push","Conversation","conversation","friendId","members","find","m","getUser","Message","message","own","text","ChatOnline","onlineUsers","currentId","setCurrentChat","onlineFriends","setOnlineFriends","f","o","Messenger","conversations","setConversations","currentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","setOnlineUsers","socket","scrollRef","io","on","sender","senderId","prev","emit","users","some","getConversations","getMessages","handleSubmit","conversationId","receiverId","member","scrollIntoView","behavior","c","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3a3229b9.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"LOGIN_START\":\r\n            return {\r\n                user: null,\r\n                isFetching: true,\r\n                error: false\r\n            }\r\n        case \"LOGIN_SUCCESS\":\r\n            return {\r\n                user: action.payload,\r\n                isFetching: false,\r\n                error: false\r\n            }\r\n        case \"LOGIN_FAILURE\":\r\n            return {\r\n                user: null,\r\n                isFetching: false,\r\n                error: action.payload\r\n            }\r\n        case \"FOLLOW\":\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    followings: [...state.user.followings, action.payload]\r\n                }\r\n            }\r\n        case \"UNFOLLOW\":\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    followings: state.user.followings.filter(\r\n                        following => following !== action.payload\r\n                    )\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default AuthReducer","import { useReducer, createContext } from 'react'\r\nimport AuthReducer from './AuthReducer'\r\n\r\nconst INITIAL_STATE = {\r\n    user: null,\r\n    isFetching: false,\r\n    error: false\r\n}\r\n\r\n// const INITIAL_STATE = {\r\n//     user: {\r\n//         \"_id\": \"61255f908f1180332c2c23ec\",\r\n//         \"profilePic\": \"person/1.jpeg\",\r\n//         \"coverPicture\": \"\",\r\n//         \"followers\": [],\r\n//         \"isAdmin\": false,\r\n//         \"username\": \"jane\",\r\n//         \"email\": \"jane@gmail.com\",\r\n//         \"password\": \"$2b$10$6gP7EkLDBH2y4Dxl.phKHOVI6BVpiXH2DQZ14/AuTzY7IIkPNFHpC\",\r\n\r\n//         \"followings\": [1,2,3]\r\n//     },\r\n//     isFetching: false,\r\n//     error: false\r\n// }\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE)\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE)\r\n\r\n    return (\r\n        <AuthContext.Provider value={{\r\n            user: state.user,\r\n            isFetching: state.isFetching,\r\n            error: state.error,\r\n            dispatch\r\n        }} >\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}","import './topbar.css'\r\nimport { Search, Person, Chat, Notifications } from \"@material-ui/icons\"\r\nimport { Link } from 'react-router-dom'\r\nimport { useContext } from 'react'\r\nimport { AuthContext } from '../../context/AuthContext'\r\n\r\nexport default function Topbar() {\r\n    const { user } = useContext(AuthContext)\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    return (\r\n        <div className='topbarContainer'>\r\n            <div className=\"topbarLeft\">\r\n                <Link to='/' style={{textDecoration: 'none'}}>\r\n                    <span className=\"logo\">Lamasocial</span>\r\n                </Link>\r\n            </div>\r\n            <div className=\"topbarCenter\">\r\n                <div className=\"searchBar\">\r\n                    <Search className='searchIcon'/>\r\n                    <input placeholder=\"Search for friends, posts, or videos\" className=\"searchInput\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"topbarRight\">\r\n                <div className=\"topbarLinks\">\r\n                    <span className=\"topbarLink\">Homepage</span>\r\n                    <span className=\"topbarLink\">Timeline</span>\r\n                </div>\r\n                <div className=\"topbarIcons\">\r\n                    <div className=\"topbarIconItem\">\r\n                        <Person />\r\n                        <span className=\"topbarIconBadge\">1</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"topbarIconItem\">\r\n                        <Link to='/messenger'>\r\n                            <Chat />\r\n                        </Link>\r\n                        <span className=\"topbarIconBadge\">2</span>\r\n                    </div>\r\n                    \r\n                    <div className=\"topbarIconItem\">\r\n                        <Notifications />\r\n                        <span className=\"topbarIconBadge\">1</span>\r\n                    </div>\r\n                </div>\r\n                <Link to={`/profile/${user.username}`}>\r\n                    <img\r\n                        src={\r\n                            user.profilePic\r\n                                ? PF + user.profilePic \r\n                                : PF + \"person/noAvatar.png\"\r\n                        }\r\n                        alt=\"\" className=\"topbarImg\" \r\n                    />\r\n                </Link>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const Users = [\r\n    {\r\n      id:1,\r\n      profilePicture: \"person/1.jpeg\",\r\n      username: \"Safak Kocaoglu\",\r\n    },\r\n    {\r\n      id:2,\r\n      profilePicture: \"person/2.jpeg\",\r\n      username: \"Janell Shrum\",\r\n    },\r\n    {\r\n      id:3,\r\n      profilePicture: \"person/3.jpeg\",\r\n      username: \"Alex Durden\",\r\n    },\r\n    {\r\n      id:4,\r\n      profilePicture: \"person/4.jpeg\",\r\n      username: \"Dora Hawks\",\r\n    },\r\n    {\r\n      id:5,\r\n      profilePicture: \"person/5.jpeg\",\r\n      username: \"Thomas Holden\",\r\n    },\r\n    {\r\n      id:6,\r\n      profilePicture: \"person/6.jpeg\",\r\n      username: \"Shirley Beauchamp\",\r\n    },\r\n    {\r\n      id:7,\r\n      profilePicture: \"person/7.jpeg\",\r\n      username: \"Travis Bennett\",\r\n    },\r\n    {\r\n      id:8,\r\n      profilePicture: \"person/8.jpeg\",\r\n      username: \"Kristen Thomas\",\r\n    },\r\n    {\r\n      id:9,\r\n      profilePicture: \"person/9.jpeg\",\r\n      username: \"Gary Duty\",\r\n    },\r\n    {\r\n      id:10,\r\n      profilePicture: \"person/10.jpeg\",\r\n      username: \"Safak Kocaoglu\",\r\n    },\r\n  ];\r\n  \r\n  export const Posts = [\r\n    {\r\n      id: 1,\r\n      desc: \"Love For All, Hatred For None.\",\r\n      photo: \"post/1.jpeg\",\r\n      date: \"5 mins ago\",\r\n      userId: 1,\r\n      like: 32,\r\n      comment: 9,\r\n    },\r\n    {\r\n      id: 2,\r\n      photo: \"post/2.jpeg\",\r\n      date: \"15 mins ago\",\r\n      userId: 2,\r\n      like: 2,\r\n      comment: 1,\r\n    },\r\n    {\r\n      id: 3,\r\n      desc: \"Every moment is a fresh beginning.\",\r\n      photo: \"post/3.jpeg\",\r\n      date: \"1 hour ago\",\r\n      userId: 3,\r\n      like: 61,\r\n      comment: 2,\r\n    },\r\n    {\r\n      id: 4,\r\n      photo: \"post/4.jpeg\",\r\n      date: \"4 hours ago\",\r\n      userId: 4,\r\n      like: 7,\r\n      comment: 3,\r\n    },\r\n    {\r\n      id: 5,\r\n      photo: \"post/5.jpeg\",\r\n      date: \"5 hours ago\",\r\n      userId: 5,\r\n      like: 23,\r\n      comment: 5,\r\n    },\r\n    {\r\n      id: 6,\r\n      photo: \"post/6.jpeg\",\r\n      date: \"1 day ago\",\r\n      userId: 6,\r\n      like: 44,\r\n      comment: 6,\r\n    },\r\n    {\r\n      id: 7,\r\n      desc: \"Never regret anything that made you smile.\",\r\n      photo: \"post/7.jpeg\",\r\n      date: \"2 days ago\",\r\n      userId: 7,\r\n      like: 52,\r\n      comment: 3,\r\n    },\r\n    {\r\n      id: 8,\r\n      photo: \"post/8.jpeg\",\r\n      date: \"3 days ago\",\r\n      userId: 8,\r\n      like: 15,\r\n      comment: 1,\r\n    },\r\n    {\r\n      id: 9,\r\n      desc: \"Change the world by being yourself.\",\r\n      photo: \"post/9.jpeg\",\r\n      date: \"5 days ago\",\r\n      userId: 9,\r\n      like: 11,\r\n      comment: 2,\r\n    },\r\n    {\r\n      id: 10,\r\n      photo: \"post/10.jpeg\",\r\n      date: \"1 week ago\",\r\n      userId: 10,\r\n      like: 104,\r\n      comment: 12,\r\n    },\r\n  ];","import './closeFriend.css'\r\n\r\nexport default function CloseFriend({user}) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    return (\r\n        <div>\r\n            <li className=\"sidebarFriend\">\r\n                <img className='sidebarFriendImg' src={PF + user.profilePicture} alt=\"\" />\r\n                <span className='sidebarFriendName'>{user.username}</span>\r\n            </li>\r\n        </div>\r\n    )\r\n}\r\n","import \"./sidebar.css\"\r\nimport { RssFeed, Chat, PlayCircleFilled, Group, Bookmark, HelpOutline, Work, Event } from '@material-ui/icons'\r\nimport { Users } from '../../dummyData'\r\nimport CloseFriend from \"../closeFriends/CloseFriend\"\r\n\r\nexport default function Sidebar() {\r\n    return (\r\n        <div className='sidebar'>\r\n            <div className='sidebarWrapper'>\r\n                <ul className=\"sidebarList\">\r\n                    <li className=\"sidebarListItem\">\r\n                        <PlayCircleFilled className='sidebarIcon' />\r\n                        <span className=\"sidebarListItemText\">\r\n                            Videos\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Group className='sidebarIcon' />\r\n                        <span className=\"sidebarListItemText\">\r\n                            Groups\r\n                        </span>\r\n                    </li>\r\n                    <li  className=\"sidebarListItem\">\r\n                        <Bookmark className='sidebarIcon' />\r\n                        <span className=\"sidebarListItemText\">\r\n                            Bookmarks\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <HelpOutline className='sidebarIcon' />\r\n                        <span className=\"sidebarListItemText\">\r\n                            Questions\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Work className='sidebarIcon' />\r\n                        <span className=\"sidebarListItemText\">\r\n                            Jobs\r\n                        </span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Event className='sidebarIcon' />\r\n                        <span className=\"sidebarListItemText\">\r\n                            Events\r\n                        </span>\r\n                    </li>\r\n                </ul>\r\n                <button className='sidebarButton'>Show More</button>\r\n                <hr className='sidebarHr' />\r\n                <ul className=\"sidebarFriendList\">\r\n                    {Users.map((u) => (\r\n                        <CloseFriend key={u.id} user={u}/>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import axios from 'axios'\r\n\r\nlet axiosInstance\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n    axiosInstance = axios.create({\r\n    })\r\n} else {\r\n    axiosInstance = axios.create({\r\n        baseURL: \"https://dmatu-social-media.herokuapp.com/api/\"\r\n    })\r\n}\r\n\r\nexport { axiosInstance }","import './share.css'\r\nimport { PermMedia, Label, Room, EmojiEmotions, Cancel } from '@material-ui/icons'\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport { useContext, useRef, useState } from 'react'\r\nimport { axiosInstance } from '../../config'\r\n\r\nexport default function Share() {\r\n    const { user } = useContext(AuthContext)\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    const desc = useRef()\r\n    const [file, setFile] = useState(null)\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault()\r\n        const newPost = {\r\n            userId: user._id,\r\n            desc: desc.current.value\r\n        }\r\n        if (file) {\r\n            const data = new FormData()\r\n            const fileName = Date.now() + file.name\r\n            data.append(\"name\", fileName) // fileName\r\n            data.append(\"file\", file)\r\n\r\n            newPost.img = fileName\r\n            try {\r\n                await axiosInstance.post('/upload', data)\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n        try{\r\n            await axiosInstance.post('/posts', newPost)\r\n            window.location.reload()\r\n        } catch(err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='share'>\r\n            <div className=\"shareWrapper\">\r\n                <div className=\"shareTop\">\r\n                    <img className=\"shareProfileImg\" src={user.profilePic ? PF + user.profilePic : PF + \"person/noAvatar.png\"} alt=\"\" />\r\n                    <input\r\n                        placeholder={\"Whats on your mind \" + user.username + \"?\"}\r\n                        className='shareInput'\r\n                        ref={desc}\r\n                    />\r\n                </div>\r\n                <hr className='shareHr' />\r\n                { file && (\r\n                    <div className=\"shareImgContainer\">\r\n                        <img className=\"shareImg\" src={URL.createObjectURL(file)} alt=\"\" />\r\n                        <Cancel className=\"shareCancelImg\" onClick={()=>setFile(null)}/>\r\n                    </div>\r\n                )}\r\n                <form className=\"shareBottom\" onSubmit={submitHandler}>\r\n                    <div className=\"shareOptions\">\r\n                        <label htmlFor=\"file\" className=\"shareOption\">\r\n                            <PermMedia htmlColor=\"tomato\" className='shareIcon' />\r\n                            <span className='shareOptionText'>Photo or Video</span>\r\n                            <input style={{display:'none'}} type=\"file\" id=\"file\" accept=\".png,.jpeg,.jpg\" onChange={(e) => setFile(e.target.files[0])} />\r\n                        </label>\r\n                        <div className=\"shareOption\">\r\n                            <Label htmlColor=\"blue\" className='shareIcon' />\r\n                            <span className='shareOptionText'>Tag</span>\r\n                        </div>\r\n                        <div className=\"shareOption\">\r\n                            <Room htmlColor=\"green\" className='shareIcon' />\r\n                            <span className='shareOptionText'>Location</span>\r\n                        </div>\r\n                        <div className=\"shareOption\">\r\n                            <EmojiEmotions htmlColor=\"goldenrod\" className='shareIcon' />\r\n                            <span className='shareOptionText'>Feelings</span>\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"shareButton\" type=\"submit\">Share</button>\r\n                </form>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./post.css\"\r\nimport { MoreVert } from '@material-ui/icons'\r\nimport { useState, useEffect } from 'react'\r\nimport { axiosInstance } from '../../config'\r\nimport { format } from 'timeago.js'\r\nimport { useContext } from 'react'\r\nimport { AuthContext } from '../../context/AuthContext'\r\n\r\nexport default function Post({ post }) {\r\n    const [like, setLike] = useState(post.likes.length)\r\n    const [isLiked, setIsLiked] = useState(false)\r\n    const [user, setUser] = useState({})\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    const { user: currentUser } = useContext(AuthContext)\r\n\r\n    useEffect(() => {\r\n        setIsLiked(post.likes.includes(currentUser._id))\r\n    }, [currentUser._id, post.likes])\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            const res = await axiosInstance.get(`/user?userId=${post.userId}`)\r\n            setUser(res.data)\r\n        }\r\n        fetchUser()\r\n    }, [post.userId])\r\n\r\n    const likeHandler = () => {\r\n        try{\r\n            axiosInstance.put(\"/posts/\" + post._id +\"/like\" , {userId: currentUser._id})\r\n        } catch (err) {\r\n\r\n        }\r\n        setLike(isLiked ? like - 1 : like + 1)\r\n        setIsLiked(!isLiked)\r\n    }\r\n    return (\r\n        <div className='post'>\r\n            <div className=\"postWrapper\">\r\n                <div className=\"postTop\">\r\n                    <div className=\"postTopLeft\">\r\n                        <img className='postProfileImg' \r\n                            src={user.profilePic \r\n                                    ? PF + user.profilePic\r\n                                    : PF + \"person/noAvatar.png\"\r\n                                } \r\n                            alt=\"\" \r\n                        />\r\n                        <span className=\"postUsername\">\r\n                            {user.username}\r\n                        </span>\r\n                        <span className=\"postDate\">{format(post.createdAt)}</span>\r\n                    </div>\r\n                    <div className=\"postTopRight\">\r\n                        <MoreVert />\r\n                    </div>\r\n                </div>\r\n                <div className=\"postCenter\">\r\n                    <span className=\"postText\">{post?.desc}</span>\r\n                    <img className='postImg' src={PF + post.img} alt=\"\" />\r\n                </div>\r\n                <div className=\"postBottom\">\r\n                    <div className=\"postBottomLeft\">\r\n                        <img className='likeButton' src={`${PF}like.png`} onClick={likeHandler} alt=\"\" />\r\n                        <img className='likeButton' src={`${PF}heart.png`} onClick={likeHandler} alt=\"\" />\r\n                        <span className=\"postLikeCounter\">{like} people like it</span>\r\n                    </div>\r\n                    <div className=\"postBottomRight\">\r\n                        <span className=\"postCommentText\">\r\n                            {post.comment} comments\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import Share from '../share/Share'\r\nimport Post from '../post/Post'\r\nimport \"./feed.css\"\r\nimport { useState, useEffect, useContext } from 'react'\r\nimport { axiosInstance } from '../../config'\r\nimport { AuthContext } from '../../context/AuthContext'\r\n\r\nexport default function Feed({ username }) {\r\n    const [posts, setPosts] = useState([])\r\n    const { user } = useContext(AuthContext)\r\n\r\n    useEffect(() => {\r\n        const fetchPosts = async () => {\r\n            const res = username\r\n                ? await axiosInstance.get(\"/posts/profile/\" + username)\r\n                : await axiosInstance.get(\"/posts/timeline/\" + user._id)\r\n            setPosts(res.data.sort((p1, p2) => {\r\n                return new Date(p2.createdAt) - new Date(p1.createdAt)\r\n            }))\r\n        }\r\n        fetchPosts()\r\n    }, [username, user._id])\r\n    return (\r\n        <div className='feed'>\r\n            <div className=\"feedWrapper\">\r\n                {(!username || username === user.username) && <Share />}\r\n                {posts.map(p => (\r\n                    <Post key={p._id} post={p} />\r\n                ))}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import './online.css'\r\n\r\nexport default function Online({user}) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    return (\r\n        <li className=\"rightbarFriend\">\r\n            <div className=\"rightbarProfileImgContainer\">\r\n                <img className='rightbarProfileImg' \r\n                    src={PF + user.profilePicture}\r\n                    alt=\"\" />\r\n                <span className='rightbarOnline'></span>\r\n            </div>\r\n            <span className=\"rightbarUserName\">{user.username}</span>\r\n        </li>\r\n    )\r\n}\r\n","import \"./rightbar.css\"\r\nimport { Users } from '../../dummyData'\r\nimport Online from \"../online/Online\"\r\nimport { useState, useEffect, useContext } from 'react'\r\nimport { axiosInstance } from '../../config'\r\nimport { Link } from 'react-router-dom'\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport { Add, Remove } from '@material-ui/icons'\r\n\r\nexport default function Rightbar({ user }) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    const [friends, setFriends] = useState([])\r\n    const { user: currentUser, dispatch } = useContext(AuthContext)\r\n    const [followed, setFollowed] = useState(currentUser.followings.includes(user?.id))\r\n\r\n    // useEffect(() => {\r\n    //     setFollowed(currentUser.followings.includes(user?.id))\r\n    // }, [currentUser, user.id])\r\n\r\n    useEffect(() => {\r\n        const getFriends = async () => {\r\n            try {\r\n                const friendList = await axiosInstance.get('/user/friends/' + currentUser._id)\r\n                setFriends(friendList.data)\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n        getFriends()\r\n    }, [currentUser])\r\n\r\n    const handleClick = async () => {\r\n        try {\r\n            if (followed){\r\n                await axiosInstance.put('/user/' + user._id + \"/unfollow\", {\r\n                    userId: currentUser._id\r\n                })\r\n                dispatch({type: \"UNFOLLOW\", payload:user._id})\r\n            } else {\r\n                await axiosInstance.put('/user/' + user._id + \"/follow\", {\r\n                    userId: currentUser._id\r\n                })\r\n                dispatch({type: \"FOLLOW\", payload:user._id})\r\n            }\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n        setFollowed(!followed)\r\n    }\r\n\r\n    const HomeRightBar = () => {\r\n        return (\r\n            <>\r\n                <div className=\"birthdayContainer\">\r\n                    <img className='birthdayImg' src=\"assets/gift.png\" alt=\"\" />\r\n                    <span className=\"birthdayText\"> <b>Pola Foster</b> and <b>3 other friends</b> have a birthday today</span>\r\n                </div>\r\n\r\n                <img className='rightbarAd' src=\"assets/ad.png\" alt=\"\" />\r\n                <h4 className=\"rightbarTitle\">Online Friends</h4>\r\n                <ul className=\"rightbarFriendList\">\r\n\r\n                    {Users.map(u => (\r\n                        <Online key={u.id} user={u} />\r\n                    ))}\r\n                </ul>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const ProfileRightBar = () => {\r\n        return (\r\n            <>\r\n                {user.username !== currentUser.username && (\r\n                    <button className=\"rightbarFollowButton\" onClick={handleClick}>\r\n                        {followed ? \"Unfollow\" : \"Follow\"}\r\n                        {followed ? <Remove /> : <Add /> }\r\n                    </button>\r\n                )}\r\n                <h4 className='rightbarTitle'>User Information </h4>\r\n                <div className=\"rightbarInfo\">\r\n                    <div className=\"rightbarInfoItem\">\r\n                        <span className=\"rightbarInfoKey\">City:</span>\r\n                        <span className=\"rightbarInfoValue\">{user.city}</span>\r\n                    </div>\r\n                    <div className=\"rightbarInfoItem\">\r\n                        <span className=\"rightbarInfoKey\">From:</span>\r\n                        <span className=\"rightbarInfoValue\">{user.from}</span>\r\n                    </div>\r\n                    <div className=\"rightbarInfoItem\">\r\n                        <span className=\"rightbarInfoKey\">Relationship:</span>\r\n                        <span className=\"rightbarInfoValue\">\r\n                            {user.relationship === 1\r\n                                ? \"Single\"\r\n                                : user.relationship === 2\r\n                                    ? \"Married\"\r\n                                    : '-'}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <h4 className='rightbarTitle'>User friends</h4>\r\n                <div className='rightbarFollowings'>\r\n                    {friends.map((friend) => (\r\n                        <Link key={friend._id} to={\"/profile/\" + friend.username} style={{textDecoration:\"none\"}}>\r\n                            <div className='rightbarFollowing'>\r\n                                <img\r\n                                    src={friend.profilePicture\r\n                                        ? PF + friend.profilePicture\r\n                                        : PF + \"person/noAvatar.png\"\r\n                                    }\r\n                                    alt=\"\"\r\n                                    className=\"rightbarFollowingImg\" />\r\n                                <span className=\"rightbarFollowingName\">{friend.username}</span>\r\n                            </div>\r\n                        </Link>\r\n                    ))}\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n    return (\r\n        <div className='rightbar'>\r\n            <div className=\"rightbarWrapper\">\r\n                {user ? <ProfileRightBar /> : <HomeRightBar />}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import Topbar from \"../../components/topbar/Topbar\"\r\nimport Sidebar from \"../../components/sidebar/Sidebar\"\r\nimport Feed from \"../../components/feed/Feed\"\r\nimport Rightbar from \"../../components/rightbar/Rightbar\"\r\nimport \"./home.css\"\r\n\r\nexport default function Home() {\r\n    return (\r\n        <>\r\n            <Topbar />\r\n            <div className=\"homeContainer\">\r\n                <Sidebar />\r\n                <Feed />\r\n                <Rightbar />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import { axiosInstance } from './config'\r\n\r\nexport const loginCall = async (userCredential, dispatch) => {\r\n    dispatch({ type: \"LOGIN_START\" })\r\n    try {\r\n        const res = await axiosInstance.post('/auth/login', userCredential)\r\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data })\r\n    } catch (err) {\r\n        dispatch({ type: \"LOGIN_FAILURE\", payload: err })\r\n    }\r\n}","import './login.css'\r\nimport { useRef, useContext } from 'react'\r\nimport { loginCall } from '../../apiCalls'\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport { CircularProgress } from '@material-ui/core'\r\nimport { axiosInstance } from '../../config'\r\n\r\nexport default function Login() {\r\n    const email = useRef()\r\n    const password = useRef()\r\n    const { user, isFetching, error, dispatch } = useContext(AuthContext)\r\n    const handleClick = (e) => {\r\n        e.preventDefault()\r\n        loginCall({email:email.current.value, password:password.current.value}, dispatch)\r\n    }\r\n\r\n    return (\r\n        <div className='login'>\r\n            <div className=\"loginWrapper\">\r\n                <div className=\"loginLeft\">\r\n                    <h3 className=\"loginLogo\">Lamasocial</h3>\r\n                    <span className=\"loginDesc\">Connect with friends and the world around you on Lamasocial</span>\r\n                </div>\r\n                <div className=\"loginRight\">\r\n                    <form className=\"loginBox\" onSubmit={handleClick}>\r\n                        <input placeholder=\"Email\" type='email' className='loginInput' ref={email} />\r\n                        <input required placeholder=\"Password\" type='password' minLength=\"6\" className='loginInput' ref={password} />\r\n                        <button className=\"loginButton\" disabled={isFetching}>\r\n                            {isFetching ? <CircularProgress color='white' size=\"20px\"/> : \"Log in\"}\r\n                        </button>\r\n                        <span className='loginForgot'>Forgot password?</span>\r\n                        <button className=\"loginRegisterButton\" disabled={isFetching}>\r\n                            {isFetching ? <CircularProgress color={'white'} size=\"20px\"/> : \"Create a New Account\"}\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import './profile.css'\r\nimport Topbar from \"../../components/topbar/Topbar\"\r\nimport Sidebar from \"../../components/sidebar/Sidebar\"\r\nimport Feed from \"../../components/feed/Feed\"\r\nimport Rightbar from \"../../components/rightbar/Rightbar\"\r\nimport { useEffect, useState } from 'react'\r\nimport { axiosInstance } from '../../config'\r\nimport { useParams } from 'react-router'\r\n\r\nexport default function Profile() {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n    const [user, setUser] = useState({})\r\n    const username = useParams().username\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            const res = await axiosInstance.get(`/user?username=${username}`)\r\n            setUser(res.data)\r\n        }\r\n        fetchUser()\r\n    }, [username])\r\n\r\n    return (\r\n        <div>\r\n            <>\r\n                <Topbar />\r\n                <div className=\"profile\">\r\n                    <Sidebar />\r\n                    <div className=\"profileRight\">\r\n                        <div className=\"profileRightTop\">\r\n                            <div className=\"profileCover\">\r\n                                <img className=\"profileCoverImg\" \r\n                                    src={\r\n                                        user.coverPicture ? \r\n                                            PF + user.coverPicture : \r\n                                            PF + \"/person/noCover.png\"\r\n                                    } \r\n                                    alt=\"\" \r\n                                />\r\n                                <img className=\"profileUserImg\" \r\n                                    src={user.profilePic \r\n                                        ? PF + user.profilePic\r\n                                        : PF + '/person/noAvatar.png'\r\n                                    } \r\n                                    alt=\"\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"profileInfo\">\r\n                                <h4 className='profileInfoName'>{user.username}</h4>\r\n                                <span className='profileInfoDesc'>{user.desc}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profileRightBottom\">\r\n                            <Feed username={username}/>\r\n                            <Rightbar user={user} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        </div>\r\n    )\r\n}\r\n","import { useRef } from 'react'\r\nimport './register.css'\r\nimport { axiosInstance } from '../../config'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Register() {\r\n    const username = useRef()\r\n    const email = useRef()\r\n    const password = useRef()\r\n    const passwordAgain = useRef()\r\n    const history = useHistory()\r\n\r\n    const handleClick = async (e) => {\r\n        e.preventDefault()\r\n        if (passwordAgain.current.value !== password.current.value) {\r\n            passwordAgain.current.setCustomValidity(\"Passwords don't match!\")\r\n        } else {\r\n            const user = {\r\n                username: username.current.value,\r\n                email: email.current.value,\r\n                password: password.current.value,\r\n            }\r\n            try {\r\n                await axiosInstance.post('/auth/register', user)\r\n                history.push(\"/login\")\r\n            } catch (err) {\r\n                // finish notes - add unique validation\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div className='login'>\r\n            <div className=\"loginWrapper\">\r\n                <div className=\"loginLeft\">\r\n                    <h3 className=\"loginLogo\">Lamasocial</h3>\r\n                    <span className=\"loginDesc\">Connect with friends and the world around you on Lamasocial</span>\r\n                </div>\r\n                <div className=\"loginRight\">\r\n                    <form className=\"loginBox\" onSubmit={handleClick}>\r\n                        <input placeholder=\"Username\" required ref={username} className='loginInput' />\r\n                        <input placeholder=\"Email\" type=\"email\" required ref={email} className='loginInput' />\r\n                        <input placeholder=\"Password\" type=\"password\" required minLength=\"6\" ref={password} className='loginInput' />\r\n                        <input placeholder=\"Password Again\" type=\"password\" required ref={passwordAgain} className='loginInput' />\r\n                        <button className=\"loginButton\">Sign Up</button>\r\n                        <Link to=\"/login\" className='loginRegisterLink'>\r\n                            <button type=\"submit\" className=\"loginRegisterButton\">\r\n                                Log into Account\r\n                            </button>\r\n                        </Link>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./conversation.css\"\r\nimport { useEffect, useState } from 'react'\r\nimport { axiosInstance } from '../../config'\r\n\r\nexport default function Conversation({ conversation, currentUser }) {\r\n    const [user, setUser] = useState({})\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n\r\n    useEffect(() => {\r\n        const friendId = conversation.members.find((m) => m !== currentUser._id)\r\n\r\n        const getUser = async () => {\r\n            try {\r\n                const res = await axiosInstance('/user?userId=' + friendId)\r\n                setUser(res.data)\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n        getUser()\r\n\r\n    }, [currentUser, conversation])\r\n\r\n\r\n\r\n    return (\r\n        <div className='conversation'>\r\n            <img className='conversationImg'\r\n                src={ user.profilePic ? PF + user.profilePic : PF + \"person/noAvatar.png\"}\r\n                alt=\"\"\r\n            />\r\n            <span className=\"conversationName\">{user.username}</span>\r\n        </div>\r\n    )\r\n}\r\n","import './message.css'\r\nimport { format } from 'timeago.js'\r\n\r\nexport default function Message({message, own}) {\r\n    return (\r\n        <div className={own ? \"message own\" : \"message\"}>\r\n            <div className=\"messageTop\">\r\n                <img\r\n                    className='messageImg'\r\n                    src=\"https://images.pexels.com/photos/7537863/pexels-photo-7537863.jpeg?auto=compress&cs=tinysrgb&h=650&w=940\"\r\n                    alt=\"\"\r\n                />\r\n                <p className='messageText'>{message.text}</p>\r\n            </div>\r\n            <div className=\"messageBottom\">{format(message.createdAt)}</div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./chatOnline.css\"\r\nimport { axiosInstance } from '../../config'\r\nimport { useState, useEffect } from 'react'\r\n\r\nexport default function ChatOnline({ onlineUsers, currentId, setCurrentChat }) {\r\n    const [friends, setFriends] = useState([])\r\n    const [onlineFriends, setOnlineFriends] = useState([])\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER\r\n\r\n    useEffect(() => {\r\n        const getFriends = async () => {\r\n            const res = await axiosInstance.get('/user/friends/' + currentId)\r\n            setFriends(res.data)\r\n        }\r\n\r\n        getFriends()\r\n    }, [currentId])\r\n\r\n    useEffect(() => {\r\n        console.log('heres friends')\r\n        console.log(friends)\r\n        setOnlineFriends(friends.filter(f => onlineUsers.includes(f._id)))\r\n    }, [friends, onlineUsers])\r\n\r\n    const handleClick = async (user) => {\r\n        try {\r\n            console.log('current id')\r\n            console.log(currentId)\r\n            console.log('friend id')\r\n            console.log(user._id)\r\n            const res = await axiosInstance.get(`/conversations/find/${currentId}/${user._id}`)\r\n            setCurrentChat(res.data)\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='chatOnline'>\r\n            {onlineFriends.map((o) => (\r\n\r\n                <div className=\"chatOnlineFriend\" onClick={() => handleClick(o)}>\r\n                    <div className=\"chatOnlineImgContainer\">\r\n                        <img\r\n                            className='chatOnlineImg'\r\n                            src={o?.profilePic\r\n                                ? PF + o.profilePic\r\n                                : PF + \"person/noAvatar.png\"}\r\n                            alt=\"\" />\r\n                        <div className=\"chatOnlineBadge\"></div>\r\n                    </div>\r\n                    <div className=\"chatOnlineName\">{o.username}</div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n","import './messenger.css'\r\nimport Topbar from '../../components/topbar/Topbar'\r\nimport Conversation from '../../components/conversations/Conversation'\r\nimport Message from '../../components/message/Message'\r\nimport ChatOnline from '../../components/chatOnline/ChatOnline'\r\nimport { useContext, useEffect, useState, useRef } from 'react'\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport { axiosInstance } from '../../config'\r\nimport { io } from 'socket.io-client'\r\n\r\nexport default function Messenger() {\r\n    const [ conversations, setConversations ] = useState([])\r\n    const [ currentChat, setCurrentChat ] = useState(null)\r\n    const [ messages, setMessages ] = useState([])\r\n    const [ newMessage, setNewMessage ] = useState(\"\")\r\n    const [ arrivalMessage, setArrivalMessage ] = useState(null)\r\n    const [ onlineUsers, setOnlineUsers ] = useState([])\r\n    const socket = useRef()\r\n    const { user } = useContext(AuthContext)\r\n    const scrollRef = useRef()\r\n\r\n    useEffect(() => {\r\n        socket.current = io('ws://localhost:8800')\r\n        socket.current.on(\"getMessage\", (data) => {\r\n            setArrivalMessage({\r\n                sender: data.senderId, \r\n                text: data.text,\r\n                createdAt: Date.now()\r\n            })\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        arrivalMessage && \r\n        currentChat?.members.includes(arrivalMessage.sender) &&\r\n        setMessages((prev)=>[...prev, arrivalMessage])\r\n    }, [arrivalMessage, currentChat])\r\n\r\n    useEffect(() => {\r\n        socket.current.emit('addUser', user._id)\r\n        socket.current.on('getUsers', (users) => {\r\n            setOnlineUsers(user.followings.filter(f=>users.some(u=>u.userId === f)))\r\n        })\r\n    }, [user])\r\n\r\n    useEffect(() => {\r\n        const getConversations = async () => {\r\n            try{\r\n                const res = await axiosInstance.get('/conversations/' + user._id)\r\n                setConversations(res.data)\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n        getConversations()\r\n    }, [user._id])\r\n\r\n    useEffect(() => {\r\n        const getMessages = async () => {\r\n            try{\r\n                const res = await axiosInstance.get('/messages/' + currentChat?._id)\r\n                setMessages(res.data)\r\n                // setNewMessage(\"\")\r\n            } catch(err){ \r\n                console.log(err)\r\n            }\r\n        }\r\n        getMessages()\r\n    }, [currentChat])\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        const message = {\r\n            sender: user._id,\r\n            text: newMessage, \r\n            conversationId: currentChat._id\r\n        }\r\n\r\n        const receiverId = currentChat.members.find(member=> member !== user._id)\r\n\r\n        socket.current.emit('sendMessage', {\r\n            senderId: user._id,\r\n            receiverId,\r\n            text: newMessage\r\n        })\r\n\r\n        try{\r\n            const res = await axiosInstance.post('/messages', message)\r\n            setMessages([...messages, res.data])\r\n            setNewMessage(\"\")\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        scrollRef.current?.scrollIntoView({behavior: \"smooth\"})\r\n    }, [messages])\r\n\r\n    return (\r\n        <>\r\n            <Topbar />\r\n            <div className='messenger'>\r\n                <div className=\"chatMenu\">\r\n                    <div className=\"chatMenuWrapper\">\r\n                        <input placeholder=\"Search for friends\"  className=\"chatMenuInput\"/>\r\n                        {conversations.map((c) => {\r\n                            return (\r\n                                <div key={c._id} onClick={()=>setCurrentChat(c)}>\r\n                                    <Conversation key={c._id} conversation={c} currentUser={user} />\r\n                                </div>\r\n                            )\r\n                        })}  \r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"chatBox\">\r\n                    <div className=\"chatBoxWrapper\">\r\n                        {\r\n                            currentChat ? \r\n                        <>\r\n                            <div className=\"chatBoxTop\">\r\n                                {\r\n                                    messages.map(m=>(\r\n                                        <div key={m._id} ref={scrollRef}>\r\n                                            <Message key={m._id} message={m} own={m.sender === user._id} />\r\n                                        </div>\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                            <div className=\"chatBoxBottom\">\r\n                                <textarea className='chatMessageInput' \r\n                                          placeholder=\"write something...\"\r\n                                          onChange={(e)=>setNewMessage(e.target.value)}\r\n                                          value={newMessage}\r\n                                          >\r\n                                </textarea>\r\n                                <button className='chatSubmitButton' onClick={handleSubmit}>Send</button>\r\n                            </div>\r\n                        </>\r\n                        : <span className='noConversationText'>Open a conversation to start a chat.</span>}\r\n                    </div>\r\n                </div>\r\n                <div className=\"chatOnline\">\r\n                    <div className=\"chatOnlineWrapper\">\r\n                        <ChatOnline onlineUsers={onlineUsers} currentId={user._id} setCurrentChat={setCurrentChat}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import Home from \"./pages/home/Home\";\nimport Login from './pages/login/Login';\nimport Profile from './pages/profile/Profile';\nimport Register from './pages/register/Register';\nimport { \n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from 'react-router-dom'\nimport { useContext } from \"react\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport Messenger from \"./pages/messenger/Messenger\";\n\nfunction App() {\n\n  const {user} = useContext(AuthContext)\n  return (\n    <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            {user ? <Home /> : <Register />}\n          </Route>\n          <Route path=\"/login\">\n            {user ? <Redirect to='/'/> : <Login />}\n          </Route>\n          <Route path=\"/register\">\n            {user ? <Redirect to='/'/> : <Register />}\n          </Route>\n          <Route path=\"/messenger\">\n            {!user ? <Redirect to='/'/> : <Messenger />}\n          </Route>\n          <Route path=\"/profile/:username\">\n            <Profile />\n          </Route>\n        </Switch>\n    </Router>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext'\n\nReactDOM.render(\n  <React.StrictMode>\n      {/* <p>just something really simple - shoudlnt cause any problems!</p> */}\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}